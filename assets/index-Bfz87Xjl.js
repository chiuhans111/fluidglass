(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Yr(t){const e=Object.create(null);for(const r of t.split(","))e[r]=1;return r=>r in e}const J={},ht=[],Pe=()=>{},Fi=()=>!1,sr=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Kr=t=>t.startsWith("onUpdate:"),ue=Object.assign,Zr=(t,e)=>{const r=t.indexOf(e);r>-1&&t.splice(r,1)},Ns=Object.prototype.hasOwnProperty,j=(t,e)=>Ns.call(t,e),z=Array.isArray,Mt=t=>lr(t)==="[object Map]",zs=t=>lr(t)==="[object Set]",B=t=>typeof t=="function",ne=t=>typeof t=="string",gt=t=>typeof t=="symbol",re=t=>t!==null&&typeof t=="object",Ai=t=>(re(t)||B(t))&&B(t.then)&&B(t.catch),Bs=Object.prototype.toString,lr=t=>Bs.call(t),ks=t=>lr(t).slice(8,-1),$s=t=>lr(t)==="[object Object]",Qr=t=>ne(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Tt=Yr(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),or=t=>{const e=Object.create(null);return(r=>e[r]||(e[r]=t(r)))},Hs=/-\w/g,Ze=or(t=>t.replace(Hs,e=>e.slice(1).toUpperCase())),Vs=/\B([A-Z])/g,lt=or(t=>t.replace(Vs,"-$1").toLowerCase()),Si=or(t=>t.charAt(0).toUpperCase()+t.slice(1)),pr=or(t=>t?`on${Si(t)}`:""),Ke=(t,e)=>!Object.is(t,e),gr=(t,...e)=>{for(let r=0;r<t.length;r++)t[r](...e)},Ri=(t,e,r,n=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:n,value:r})},js=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Fn;const cr=()=>Fn||(Fn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Jr(t){if(z(t)){const e={};for(let r=0;r<t.length;r++){const n=t[r],i=ne(n)?Xs(n):Jr(n);if(i)for(const s in i)e[s]=i[s]}return e}else if(ne(t)||re(t))return t}const Gs=/;(?![^(]*\))/g,Ws=/:([^]+)/,qs=/\/\*[^]*?\*\//g;function Xs(t){const e={};return t.replace(qs,"").split(Gs).forEach(r=>{if(r){const n=r.split(Ws);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function en(t){let e="";if(ne(t))e=t;else if(z(t))for(let r=0;r<t.length;r++){const n=en(t[r]);n&&(e+=n+" ")}else if(re(t))for(const r in t)t[r]&&(e+=r+" ");return e.trim()}const Ys="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Ks=Yr(Ys);function Ci(t){return!!t||t===""}/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ve;class Zs{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=ve,!e&&ve&&(this.index=(ve.scopes||(ve.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,r;if(this.scopes)for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].pause();for(e=0,r=this.effects.length;e<r;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,r;if(this.scopes)for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].resume();for(e=0,r=this.effects.length;e<r;e++)this.effects[e].resume()}}run(e){if(this._active){const r=ve;try{return ve=this,e()}finally{ve=r}}}on(){++this._on===1&&(this.prevScope=ve,ve=this)}off(){this._on>0&&--this._on===0&&(ve=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let r,n;for(r=0,n=this.effects.length;r<n;r++)this.effects[r].stop();for(this.effects.length=0,r=0,n=this.cleanups.length;r<n;r++)this.cleanups[r]();if(this.cleanups.length=0,this.scopes){for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function Qs(){return ve}let Q;const vr=new WeakSet;class Di{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,ve&&ve.active&&ve.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,vr.has(this)&&(vr.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Pi(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,An(this),Ii(this);const e=Q,r=Ee;Q=this,Ee=!0;try{return this.fn()}finally{Ui(this),Q=e,Ee=r,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)nn(e);this.deps=this.depsTail=void 0,An(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?vr.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Cr(this)&&this.run()}get dirty(){return Cr(this)}}let Oi=0,Ft,At;function Pi(t,e=!1){if(t.flags|=8,e){t.next=At,At=t;return}t.next=Ft,Ft=t}function tn(){Oi++}function rn(){if(--Oi>0)return;if(At){let e=At;for(At=void 0;e;){const r=e.next;e.next=void 0,e.flags&=-9,e=r}}let t;for(;Ft;){let e=Ft;for(Ft=void 0;e;){const r=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(n){t||(t=n)}e=r}}if(t)throw t}function Ii(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Ui(t){let e,r=t.depsTail,n=r;for(;n;){const i=n.prevDep;n.version===-1?(n===r&&(r=i),nn(n),Js(n)):e=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=i}t.deps=e,t.depsTail=r}function Cr(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Li(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Li(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===It)||(t.globalVersion=It,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!Cr(t))))return;t.flags|=2;const e=t.dep,r=Q,n=Ee;Q=t,Ee=!0;try{Ii(t);const i=t.fn(t._value);(e.version===0||Ke(i,t._value))&&(t.flags|=128,t._value=i,e.version++)}catch(i){throw e.version++,i}finally{Q=r,Ee=n,Ui(t),t.flags&=-3}}function nn(t,e=!1){const{dep:r,prevSub:n,nextSub:i}=t;if(n&&(n.nextSub=i,t.prevSub=void 0),i&&(i.prevSub=n,t.nextSub=void 0),r.subs===t&&(r.subs=n,!n&&r.computed)){r.computed.flags&=-5;for(let s=r.computed.deps;s;s=s.nextDep)nn(s,!0)}!e&&!--r.sc&&r.map&&r.map.delete(r.key)}function Js(t){const{prevDep:e,nextDep:r}=t;e&&(e.nextDep=r,t.prevDep=void 0),r&&(r.prevDep=e,t.nextDep=void 0)}let Ee=!0;const Ni=[];function He(){Ni.push(Ee),Ee=!1}function Ve(){const t=Ni.pop();Ee=t===void 0?!0:t}function An(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const r=Q;Q=void 0;try{e()}finally{Q=r}}}let It=0;class el{constructor(e,r){this.sub=e,this.dep=r,this.version=r.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class sn{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!Q||!Ee||Q===this.computed)return;let r=this.activeLink;if(r===void 0||r.sub!==Q)r=this.activeLink=new el(Q,this),Q.deps?(r.prevDep=Q.depsTail,Q.depsTail.nextDep=r,Q.depsTail=r):Q.deps=Q.depsTail=r,zi(r);else if(r.version===-1&&(r.version=this.version,r.nextDep)){const n=r.nextDep;n.prevDep=r.prevDep,r.prevDep&&(r.prevDep.nextDep=n),r.prevDep=Q.depsTail,r.nextDep=void 0,Q.depsTail.nextDep=r,Q.depsTail=r,Q.deps===r&&(Q.deps=n)}return r}trigger(e){this.version++,It++,this.notify(e)}notify(e){tn();try{for(let r=this.subs;r;r=r.prevSub)r.sub.notify()&&r.sub.dep.notify()}finally{rn()}}}function zi(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let n=e.deps;n;n=n.nextDep)zi(n)}const r=t.dep.subs;r!==t&&(t.prevSub=r,r&&(r.nextSub=t)),t.dep.subs=t}}const Dr=new WeakMap,nt=Symbol(""),Or=Symbol(""),Ut=Symbol("");function ie(t,e,r){if(Ee&&Q){let n=Dr.get(t);n||Dr.set(t,n=new Map);let i=n.get(r);i||(n.set(r,i=new sn),i.map=n,i.key=r),i.track()}}function $e(t,e,r,n,i,s){const l=Dr.get(t);if(!l){It++;return}const o=c=>{c&&c.trigger()};if(tn(),e==="clear")l.forEach(o);else{const c=z(t),h=c&&Qr(r);if(c&&r==="length"){const a=Number(n);l.forEach((u,p)=>{(p==="length"||p===Ut||!gt(p)&&p>=a)&&o(u)})}else switch((r!==void 0||l.has(void 0))&&o(l.get(r)),h&&o(l.get(Ut)),e){case"add":c?h&&o(l.get("length")):(o(l.get(nt)),Mt(t)&&o(l.get(Or)));break;case"delete":c||(o(l.get(nt)),Mt(t)&&o(l.get(Or)));break;case"set":Mt(t)&&o(l.get(nt));break}}rn()}function ot(t){const e=V(t);return e===t?e:(ie(e,"iterate",Ut),we(t)?e:e.map(ae))}function ln(t){return ie(t=V(t),"iterate",Ut),t}const tl={__proto__:null,[Symbol.iterator](){return mr(this,Symbol.iterator,ae)},concat(...t){return ot(this).concat(...t.map(e=>z(e)?ot(e):e))},entries(){return mr(this,"entries",t=>(t[1]=ae(t[1]),t))},every(t,e){return Ne(this,"every",t,e,void 0,arguments)},filter(t,e){return Ne(this,"filter",t,e,r=>r.map(ae),arguments)},find(t,e){return Ne(this,"find",t,e,ae,arguments)},findIndex(t,e){return Ne(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Ne(this,"findLast",t,e,ae,arguments)},findLastIndex(t,e){return Ne(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Ne(this,"forEach",t,e,void 0,arguments)},includes(...t){return _r(this,"includes",t)},indexOf(...t){return _r(this,"indexOf",t)},join(t){return ot(this).join(t)},lastIndexOf(...t){return _r(this,"lastIndexOf",t)},map(t,e){return Ne(this,"map",t,e,void 0,arguments)},pop(){return xt(this,"pop")},push(...t){return xt(this,"push",t)},reduce(t,...e){return Sn(this,"reduce",t,e)},reduceRight(t,...e){return Sn(this,"reduceRight",t,e)},shift(){return xt(this,"shift")},some(t,e){return Ne(this,"some",t,e,void 0,arguments)},splice(...t){return xt(this,"splice",t)},toReversed(){return ot(this).toReversed()},toSorted(t){return ot(this).toSorted(t)},toSpliced(...t){return ot(this).toSpliced(...t)},unshift(...t){return xt(this,"unshift",t)},values(){return mr(this,"values",ae)}};function mr(t,e,r){const n=ln(t),i=n[e]();return n!==t&&!we(t)&&(i._next=i.next,i.next=()=>{const s=i._next();return s.done||(s.value=r(s.value)),s}),i}const rl=Array.prototype;function Ne(t,e,r,n,i,s){const l=ln(t),o=l!==t&&!we(t),c=l[e];if(c!==rl[e]){const u=c.apply(t,s);return o?ae(u):u}let h=r;l!==t&&(o?h=function(u,p){return r.call(this,ae(u),p,t)}:r.length>2&&(h=function(u,p){return r.call(this,u,p,t)}));const a=c.call(l,h,n);return o&&i?i(a):a}function Sn(t,e,r,n){const i=ln(t);let s=r;return i!==t&&(we(t)?r.length>3&&(s=function(l,o,c){return r.call(this,l,o,c,t)}):s=function(l,o,c){return r.call(this,l,ae(o),c,t)}),i[e](s,...n)}function _r(t,e,r){const n=V(t);ie(n,"iterate",Ut);const i=n[e](...r);return(i===-1||i===!1)&&hn(r[0])?(r[0]=V(r[0]),n[e](...r)):i}function xt(t,e,r=[]){He(),tn();const n=V(t)[e].apply(t,r);return rn(),Ve(),n}const nl=Yr("__proto__,__v_isRef,__isVue"),Bi=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(gt));function il(t){gt(t)||(t=String(t));const e=V(this);return ie(e,"has",t),e.hasOwnProperty(t)}class ki{constructor(e=!1,r=!1){this._isReadonly=e,this._isShallow=r}get(e,r,n){if(r==="__v_skip")return e.__v_skip;const i=this._isReadonly,s=this._isShallow;if(r==="__v_isReactive")return!i;if(r==="__v_isReadonly")return i;if(r==="__v_isShallow")return s;if(r==="__v_raw")return n===(i?s?pl:ji:s?Vi:Hi).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const l=z(e);if(!i){let c;if(l&&(c=tl[r]))return c;if(r==="hasOwnProperty")return il}const o=Reflect.get(e,r,se(e)?e:n);if((gt(r)?Bi.has(r):nl(r))||(i||ie(e,"get",r),s))return o;if(se(o)){const c=l&&Qr(r)?o:o.value;return i&&re(c)?Ir(c):c}return re(o)?i?Ir(o):cn(o):o}}class $i extends ki{constructor(e=!1){super(!1,e)}set(e,r,n,i){let s=e[r];if(!this._isShallow){const c=st(s);if(!we(n)&&!st(n)&&(s=V(s),n=V(n)),!z(e)&&se(s)&&!se(n))return c||(s.value=n),!0}const l=z(e)&&Qr(r)?Number(r)<e.length:j(e,r),o=Reflect.set(e,r,n,se(e)?e:i);return e===V(i)&&(l?Ke(n,s)&&$e(e,"set",r,n):$e(e,"add",r,n)),o}deleteProperty(e,r){const n=j(e,r);e[r];const i=Reflect.deleteProperty(e,r);return i&&n&&$e(e,"delete",r,void 0),i}has(e,r){const n=Reflect.has(e,r);return(!gt(r)||!Bi.has(r))&&ie(e,"has",r),n}ownKeys(e){return ie(e,"iterate",z(e)?"length":nt),Reflect.ownKeys(e)}}class sl extends ki{constructor(e=!1){super(!0,e)}set(e,r){return!0}deleteProperty(e,r){return!0}}const ll=new $i,ol=new sl,cl=new $i(!0);const Pr=t=>t,jt=t=>Reflect.getPrototypeOf(t);function al(t,e,r){return function(...n){const i=this.__v_raw,s=V(i),l=Mt(s),o=t==="entries"||t===Symbol.iterator&&l,c=t==="keys"&&l,h=i[t](...n),a=r?Pr:e?Ur:ae;return!e&&ie(s,"iterate",c?Or:nt),{next(){const{value:u,done:p}=h.next();return p?{value:u,done:p}:{value:o?[a(u[0]),a(u[1])]:a(u),done:p}},[Symbol.iterator](){return this}}}}function Gt(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function hl(t,e){const r={get(i){const s=this.__v_raw,l=V(s),o=V(i);t||(Ke(i,o)&&ie(l,"get",i),ie(l,"get",o));const{has:c}=jt(l),h=e?Pr:t?Ur:ae;if(c.call(l,i))return h(s.get(i));if(c.call(l,o))return h(s.get(o));s!==l&&s.get(i)},get size(){const i=this.__v_raw;return!t&&ie(V(i),"iterate",nt),i.size},has(i){const s=this.__v_raw,l=V(s),o=V(i);return t||(Ke(i,o)&&ie(l,"has",i),ie(l,"has",o)),i===o?s.has(i):s.has(i)||s.has(o)},forEach(i,s){const l=this,o=l.__v_raw,c=V(o),h=e?Pr:t?Ur:ae;return!t&&ie(c,"iterate",nt),o.forEach((a,u)=>i.call(s,h(a),h(u),l))}};return ue(r,t?{add:Gt("add"),set:Gt("set"),delete:Gt("delete"),clear:Gt("clear")}:{add(i){!e&&!we(i)&&!st(i)&&(i=V(i));const s=V(this);return jt(s).has.call(s,i)||(s.add(i),$e(s,"add",i,i)),this},set(i,s){!e&&!we(s)&&!st(s)&&(s=V(s));const l=V(this),{has:o,get:c}=jt(l);let h=o.call(l,i);h||(i=V(i),h=o.call(l,i));const a=c.call(l,i);return l.set(i,s),h?Ke(s,a)&&$e(l,"set",i,s):$e(l,"add",i,s),this},delete(i){const s=V(this),{has:l,get:o}=jt(s);let c=l.call(s,i);c||(i=V(i),c=l.call(s,i)),o&&o.call(s,i);const h=s.delete(i);return c&&$e(s,"delete",i,void 0),h},clear(){const i=V(this),s=i.size!==0,l=i.clear();return s&&$e(i,"clear",void 0,void 0),l}}),["keys","values","entries",Symbol.iterator].forEach(i=>{r[i]=al(i,t,e)}),r}function on(t,e){const r=hl(t,e);return(n,i,s)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?n:Reflect.get(j(r,i)&&i in n?r:n,i,s)}const fl={get:on(!1,!1)},ul={get:on(!1,!0)},dl={get:on(!0,!1)};const Hi=new WeakMap,Vi=new WeakMap,ji=new WeakMap,pl=new WeakMap;function gl(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function vl(t){return t.__v_skip||!Object.isExtensible(t)?0:gl(ks(t))}function cn(t){return st(t)?t:an(t,!1,ll,fl,Hi)}function ml(t){return an(t,!1,cl,ul,Vi)}function Ir(t){return an(t,!0,ol,dl,ji)}function an(t,e,r,n,i){if(!re(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=vl(t);if(s===0)return t;const l=i.get(t);if(l)return l;const o=new Proxy(t,s===2?n:r);return i.set(t,o),o}function St(t){return st(t)?St(t.__v_raw):!!(t&&t.__v_isReactive)}function st(t){return!!(t&&t.__v_isReadonly)}function we(t){return!!(t&&t.__v_isShallow)}function hn(t){return t?!!t.__v_raw:!1}function V(t){const e=t&&t.__v_raw;return e?V(e):t}function _l(t){return!j(t,"__v_skip")&&Object.isExtensible(t)&&Ri(t,"__v_skip",!0),t}const ae=t=>re(t)?cn(t):t,Ur=t=>re(t)?Ir(t):t;function se(t){return t?t.__v_isRef===!0:!1}function xl(t){return yl(t,!1)}function yl(t,e){return se(t)?t:new bl(t,e)}class bl{constructor(e,r){this.dep=new sn,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=r?e:V(e),this._value=r?e:ae(e),this.__v_isShallow=r}get value(){return this.dep.track(),this._value}set value(e){const r=this._rawValue,n=this.__v_isShallow||we(e)||st(e);e=n?e:V(e),Ke(e,r)&&(this._rawValue=e,this._value=n?e:ae(e),this.dep.trigger())}}function El(t){return se(t)?t.value:t}const wl={get:(t,e,r)=>e==="__v_raw"?t:El(Reflect.get(t,e,r)),set:(t,e,r,n)=>{const i=t[e];return se(i)&&!se(r)?(i.value=r,!0):Reflect.set(t,e,r,n)}};function Gi(t){return St(t)?t:new Proxy(t,wl)}class Ml{constructor(e,r,n){this.fn=e,this.setter=r,this._value=void 0,this.dep=new sn(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=It-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!r,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&Q!==this)return Pi(this,!0),!0}get value(){const e=this.dep.track();return Li(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Tl(t,e,r=!1){let n,i;return B(t)?n=t:(n=t.get,i=t.set),new Ml(n,i,r)}const Wt={},Zt=new WeakMap;let rt;function Fl(t,e=!1,r=rt){if(r){let n=Zt.get(r);n||Zt.set(r,n=[]),n.push(t)}}function Al(t,e,r=J){const{immediate:n,deep:i,once:s,scheduler:l,augmentJob:o,call:c}=r,h=_=>i?_:we(_)||i===!1||i===0?Ye(_,1):Ye(_);let a,u,p,g,v=!1,x=!1;if(se(t)?(u=()=>t.value,v=we(t)):St(t)?(u=()=>h(t),v=!0):z(t)?(x=!0,v=t.some(_=>St(_)||we(_)),u=()=>t.map(_=>{if(se(_))return _.value;if(St(_))return h(_);if(B(_))return c?c(_,2):_()})):B(t)?e?u=c?()=>c(t,2):t:u=()=>{if(p){He();try{p()}finally{Ve()}}const _=rt;rt=a;try{return c?c(t,3,[g]):t(g)}finally{rt=_}}:u=Pe,e&&i){const _=u,C=i===!0?1/0:i;u=()=>Ye(_(),C)}const T=Qs(),b=()=>{a.stop(),T&&T.active&&Zr(T.effects,a)};if(s&&e){const _=e;e=(...C)=>{_(...C),b()}}let w=x?new Array(t.length).fill(Wt):Wt;const y=_=>{if(!(!(a.flags&1)||!a.dirty&&!_))if(e){const C=a.run();if(i||v||(x?C.some((P,k)=>Ke(P,w[k])):Ke(C,w))){p&&p();const P=rt;rt=a;try{const k=[C,w===Wt?void 0:x&&w[0]===Wt?[]:w,g];w=C,c?c(e,3,k):e(...k)}finally{rt=P}}}else a.run()};return o&&o(y),a=new Di(u),a.scheduler=l?()=>l(y,!1):y,g=_=>Fl(_,!1,a),p=a.onStop=()=>{const _=Zt.get(a);if(_){if(c)c(_,4);else for(const C of _)C();Zt.delete(a)}},e?n?y(!0):w=a.run():l?l(y.bind(null,!0),!0):a.run(),b.pause=a.pause.bind(a),b.resume=a.resume.bind(a),b.stop=b,b}function Ye(t,e=1/0,r){if(e<=0||!re(t)||t.__v_skip||(r=r||new Map,(r.get(t)||0)>=e))return t;if(r.set(t,e),e--,se(t))Ye(t.value,e,r);else if(z(t))for(let n=0;n<t.length;n++)Ye(t[n],e,r);else if(zs(t)||Mt(t))t.forEach(n=>{Ye(n,e,r)});else if($s(t)){for(const n in t)Ye(t[n],e,r);for(const n of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,n)&&Ye(t[n],e,r)}return t}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Bt(t,e,r,n){try{return n?t(...n):t()}catch(i){ar(i,e,r)}}function Ie(t,e,r,n){if(B(t)){const i=Bt(t,e,r,n);return i&&Ai(i)&&i.catch(s=>{ar(s,e,r)}),i}if(z(t)){const i=[];for(let s=0;s<t.length;s++)i.push(Ie(t[s],e,r,n));return i}}function ar(t,e,r,n=!0){const i=e?e.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:l}=e&&e.appContext.config||J;if(e){let o=e.parent;const c=e.proxy,h=`https://vuejs.org/error-reference/#runtime-${r}`;for(;o;){const a=o.ec;if(a){for(let u=0;u<a.length;u++)if(a[u](t,c,h)===!1)return}o=o.parent}if(s){He(),Bt(s,null,10,[t,c,h]),Ve();return}}Sl(t,r,i,n,l)}function Sl(t,e,r,n=!0,i=!1){if(i)throw t;console.error(t)}const he=[];let Ce=-1;const ft=[];let qe=null,ct=0;const Wi=Promise.resolve();let Qt=null;function Rl(t){const e=Qt||Wi;return t?e.then(this?t.bind(this):t):e}function Cl(t){let e=Ce+1,r=he.length;for(;e<r;){const n=e+r>>>1,i=he[n],s=Lt(i);s<t||s===t&&i.flags&2?e=n+1:r=n}return e}function fn(t){if(!(t.flags&1)){const e=Lt(t),r=he[he.length-1];!r||!(t.flags&2)&&e>=Lt(r)?he.push(t):he.splice(Cl(e),0,t),t.flags|=1,qi()}}function qi(){Qt||(Qt=Wi.then(Yi))}function Dl(t){z(t)?ft.push(...t):qe&&t.id===-1?qe.splice(ct+1,0,t):t.flags&1||(ft.push(t),t.flags|=1),qi()}function Rn(t,e,r=Ce+1){for(;r<he.length;r++){const n=he[r];if(n&&n.flags&2){if(t&&n.id!==t.uid)continue;he.splice(r,1),r--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function Xi(t){if(ft.length){const e=[...new Set(ft)].sort((r,n)=>Lt(r)-Lt(n));if(ft.length=0,qe){qe.push(...e);return}for(qe=e,ct=0;ct<qe.length;ct++){const r=qe[ct];r.flags&4&&(r.flags&=-2),r.flags&8||r(),r.flags&=-2}qe=null,ct=0}}const Lt=t=>t.id==null?t.flags&2?-1:1/0:t.id;function Yi(t){try{for(Ce=0;Ce<he.length;Ce++){const e=he[Ce];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Bt(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Ce<he.length;Ce++){const e=he[Ce];e&&(e.flags&=-2)}Ce=-1,he.length=0,Xi(),Qt=null,(he.length||ft.length)&&Yi()}}let Oe=null,Ki=null;function Jt(t){const e=Oe;return Oe=t,Ki=t&&t.type.__scopeId||null,e}function Ol(t,e=Oe,r){if(!e||t._n)return t;const n=(...i)=>{n._d&&Bn(-1);const s=Jt(e);let l;try{l=t(...i)}finally{Jt(s),n._d&&Bn(1)}return l};return n._n=!0,n._c=!0,n._d=!0,n}function et(t,e,r,n){const i=t.dirs,s=e&&e.dirs;for(let l=0;l<i.length;l++){const o=i[l];s&&(o.oldValue=s[l].value);let c=o.dir[n];c&&(He(),Ie(c,r,8,[t.el,o,t,e]),Ve())}}const Pl=Symbol("_vte"),Il=t=>t.__isTeleport,Ul=Symbol("_leaveCb");function un(t,e){t.shapeFlag&6&&t.component?(t.transition=e,un(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Zi(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}const er=new WeakMap;function Rt(t,e,r,n,i=!1){if(z(t)){t.forEach((v,x)=>Rt(v,e&&(z(e)?e[x]:e),r,n,i));return}if(Ct(n)&&!i){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&Rt(t,e,r,n.component.subTree);return}const s=n.shapeFlag&4?_n(n.component):n.el,l=i?null:s,{i:o,r:c}=t,h=e&&e.r,a=o.refs===J?o.refs={}:o.refs,u=o.setupState,p=V(u),g=u===J?Fi:v=>j(p,v);if(h!=null&&h!==c){if(Cn(e),ne(h))a[h]=null,g(h)&&(u[h]=null);else if(se(h)){h.value=null;const v=e;v.k&&(a[v.k]=null)}}if(B(c))Bt(c,o,12,[l,a]);else{const v=ne(c),x=se(c);if(v||x){const T=()=>{if(t.f){const b=v?g(c)?u[c]:a[c]:c.value;if(i)z(b)&&Zr(b,s);else if(z(b))b.includes(s)||b.push(s);else if(v)a[c]=[s],g(c)&&(u[c]=a[c]);else{const w=[s];c.value=w,t.k&&(a[t.k]=w)}}else v?(a[c]=l,g(c)&&(u[c]=l)):x&&(c.value=l,t.k&&(a[t.k]=l))};if(l){const b=()=>{T(),er.delete(t)};b.id=-1,er.set(t,b),_e(b,r)}else Cn(t),T()}}}function Cn(t){const e=er.get(t);e&&(e.flags|=8,er.delete(t))}cr().requestIdleCallback;cr().cancelIdleCallback;const Ct=t=>!!t.type.__asyncLoader,Qi=t=>t.type.__isKeepAlive;function Ll(t,e){Ji(t,"a",e)}function Nl(t,e){Ji(t,"da",e)}function Ji(t,e,r=fe){const n=t.__wdc||(t.__wdc=()=>{let i=r;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(hr(e,n,r),r){let i=r.parent;for(;i&&i.parent;)Qi(i.parent.vnode)&&zl(n,e,r,i),i=i.parent}}function zl(t,e,r,n){const i=hr(e,t,n,!0);pn(()=>{Zr(n[e],i)},r)}function hr(t,e,r=fe,n=!1){if(r){const i=r[t]||(r[t]=[]),s=e.__weh||(e.__weh=(...l)=>{He();const o=kt(r),c=Ie(e,r,t,l);return o(),Ve(),c});return n?i.unshift(s):i.push(s),s}}const je=t=>(e,r=fe)=>{(!zt||t==="sp")&&hr(t,(...n)=>e(...n),r)},Bl=je("bm"),dn=je("m"),kl=je("bu"),$l=je("u"),es=je("bum"),pn=je("um"),Hl=je("sp"),Vl=je("rtg"),jl=je("rtc");function Gl(t,e=fe){hr("ec",t,e)}const Wl=Symbol.for("v-ndc"),Lr=t=>t?bs(t)?_n(t):Lr(t.parent):null,Dt=ue(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Lr(t.parent),$root:t=>Lr(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>rs(t),$forceUpdate:t=>t.f||(t.f=()=>{fn(t.update)}),$nextTick:t=>t.n||(t.n=Rl.bind(t.proxy)),$watch:t=>go.bind(t)}),xr=(t,e)=>t!==J&&!t.__isScriptSetup&&j(t,e),ql={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:r,setupState:n,data:i,props:s,accessCache:l,type:o,appContext:c}=t;let h;if(e[0]!=="$"){const g=l[e];if(g!==void 0)switch(g){case 1:return n[e];case 2:return i[e];case 4:return r[e];case 3:return s[e]}else{if(xr(n,e))return l[e]=1,n[e];if(i!==J&&j(i,e))return l[e]=2,i[e];if((h=t.propsOptions[0])&&j(h,e))return l[e]=3,s[e];if(r!==J&&j(r,e))return l[e]=4,r[e];Nr&&(l[e]=0)}}const a=Dt[e];let u,p;if(a)return e==="$attrs"&&ie(t.attrs,"get",""),a(t);if((u=o.__cssModules)&&(u=u[e]))return u;if(r!==J&&j(r,e))return l[e]=4,r[e];if(p=c.config.globalProperties,j(p,e))return p[e]},set({_:t},e,r){const{data:n,setupState:i,ctx:s}=t;return xr(i,e)?(i[e]=r,!0):n!==J&&j(n,e)?(n[e]=r,!0):j(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=r,!0)},has({_:{data:t,setupState:e,accessCache:r,ctx:n,appContext:i,propsOptions:s,type:l}},o){let c,h;return!!(r[o]||t!==J&&o[0]!=="$"&&j(t,o)||xr(e,o)||(c=s[0])&&j(c,o)||j(n,o)||j(Dt,o)||j(i.config.globalProperties,o)||(h=l.__cssModules)&&h[o])},defineProperty(t,e,r){return r.get!=null?t._.accessCache[e]=0:j(r,"value")&&this.set(t,e,r.value,null),Reflect.defineProperty(t,e,r)}};function Dn(t){return z(t)?t.reduce((e,r)=>(e[r]=null,e),{}):t}let Nr=!0;function Xl(t){const e=rs(t),r=t.proxy,n=t.ctx;Nr=!1,e.beforeCreate&&On(e.beforeCreate,t,"bc");const{data:i,computed:s,methods:l,watch:o,provide:c,inject:h,created:a,beforeMount:u,mounted:p,beforeUpdate:g,updated:v,activated:x,deactivated:T,beforeDestroy:b,beforeUnmount:w,destroyed:y,unmounted:_,render:C,renderTracked:P,renderTriggered:k,errorCaptured:q,serverPrefetch:ee,expose:H,inheritAttrs:X,components:W,directives:Y,filters:N}=e;if(h&&Yl(h,n,null),l)for(const te in l){const K=l[te];B(K)&&(n[te]=K.bind(r))}if(i){const te=i.call(r,r);re(te)&&(t.data=cn(te))}if(Nr=!0,s)for(const te in s){const K=s[te],Qe=B(K)?K.bind(r,r):B(K.get)?K.get.bind(r,r):Pe,Ht=!B(K)&&B(K.set)?K.set.bind(r):Pe,Je=$o({get:Qe,set:Ht});Object.defineProperty(n,te,{enumerable:!0,configurable:!0,get:()=>Je.value,set:Te=>Je.value=Te})}if(o)for(const te in o)ts(o[te],n,r,te);if(c){const te=B(c)?c.call(r):c;Reflect.ownKeys(te).forEach(K=>{to(K,te[K])})}a&&On(a,t,"c");function le(te,K){z(K)?K.forEach(Qe=>te(Qe.bind(r))):K&&te(K.bind(r))}if(le(Bl,u),le(dn,p),le(kl,g),le($l,v),le(Ll,x),le(Nl,T),le(Gl,q),le(jl,P),le(Vl,k),le(es,w),le(pn,_),le(Hl,ee),z(H))if(H.length){const te=t.exposed||(t.exposed={});H.forEach(K=>{Object.defineProperty(te,K,{get:()=>r[K],set:Qe=>r[K]=Qe,enumerable:!0})})}else t.exposed||(t.exposed={});C&&t.render===Pe&&(t.render=C),X!=null&&(t.inheritAttrs=X),W&&(t.components=W),Y&&(t.directives=Y),ee&&Zi(t)}function Yl(t,e,r=Pe){z(t)&&(t=zr(t));for(const n in t){const i=t[n];let s;re(i)?"default"in i?s=Xt(i.from||n,i.default,!0):s=Xt(i.from||n):s=Xt(i),se(s)?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>s.value,set:l=>s.value=l}):e[n]=s}}function On(t,e,r){Ie(z(t)?t.map(n=>n.bind(e.proxy)):t.bind(e.proxy),e,r)}function ts(t,e,r,n){let i=n.includes(".")?gs(r,n):()=>r[n];if(ne(t)){const s=e[t];B(s)&&br(i,s)}else if(B(t))br(i,t.bind(r));else if(re(t))if(z(t))t.forEach(s=>ts(s,e,r,n));else{const s=B(t.handler)?t.handler.bind(r):e[t.handler];B(s)&&br(i,s,t)}}function rs(t){const e=t.type,{mixins:r,extends:n}=e,{mixins:i,optionsCache:s,config:{optionMergeStrategies:l}}=t.appContext,o=s.get(e);let c;return o?c=o:!i.length&&!r&&!n?c=e:(c={},i.length&&i.forEach(h=>tr(c,h,l,!0)),tr(c,e,l)),re(e)&&s.set(e,c),c}function tr(t,e,r,n=!1){const{mixins:i,extends:s}=e;s&&tr(t,s,r,!0),i&&i.forEach(l=>tr(t,l,r,!0));for(const l in e)if(!(n&&l==="expose")){const o=Kl[l]||r&&r[l];t[l]=o?o(t[l],e[l]):e[l]}return t}const Kl={data:Pn,props:In,emits:In,methods:Et,computed:Et,beforeCreate:ce,created:ce,beforeMount:ce,mounted:ce,beforeUpdate:ce,updated:ce,beforeDestroy:ce,beforeUnmount:ce,destroyed:ce,unmounted:ce,activated:ce,deactivated:ce,errorCaptured:ce,serverPrefetch:ce,components:Et,directives:Et,watch:Ql,provide:Pn,inject:Zl};function Pn(t,e){return e?t?function(){return ue(B(t)?t.call(this,this):t,B(e)?e.call(this,this):e)}:e:t}function Zl(t,e){return Et(zr(t),zr(e))}function zr(t){if(z(t)){const e={};for(let r=0;r<t.length;r++)e[t[r]]=t[r];return e}return t}function ce(t,e){return t?[...new Set([].concat(t,e))]:e}function Et(t,e){return t?ue(Object.create(null),t,e):e}function In(t,e){return t?z(t)&&z(e)?[...new Set([...t,...e])]:ue(Object.create(null),Dn(t),Dn(e??{})):e}function Ql(t,e){if(!t)return e;if(!e)return t;const r=ue(Object.create(null),t);for(const n in e)r[n]=ce(t[n],e[n]);return r}function ns(){return{app:null,config:{isNativeTag:Fi,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Jl=0;function eo(t,e){return function(n,i=null){B(n)||(n=ue({},n)),i!=null&&!re(i)&&(i=null);const s=ns(),l=new WeakSet,o=[];let c=!1;const h=s.app={_uid:Jl++,_component:n,_props:i,_container:null,_context:s,_instance:null,version:Ho,get config(){return s.config},set config(a){},use(a,...u){return l.has(a)||(a&&B(a.install)?(l.add(a),a.install(h,...u)):B(a)&&(l.add(a),a(h,...u))),h},mixin(a){return s.mixins.includes(a)||s.mixins.push(a),h},component(a,u){return u?(s.components[a]=u,h):s.components[a]},directive(a,u){return u?(s.directives[a]=u,h):s.directives[a]},mount(a,u,p){if(!c){const g=h._ceVNode||it(n,i);return g.appContext=s,p===!0?p="svg":p===!1&&(p=void 0),t(g,a,p),c=!0,h._container=a,a.__vue_app__=h,_n(g.component)}},onUnmount(a){o.push(a)},unmount(){c&&(Ie(o,h._instance,16),t(null,h._container),delete h._container.__vue_app__)},provide(a,u){return s.provides[a]=u,h},runWithContext(a){const u=ut;ut=h;try{return a()}finally{ut=u}}};return h}}let ut=null;function to(t,e){if(fe){let r=fe.provides;const n=fe.parent&&fe.parent.provides;n===r&&(r=fe.provides=Object.create(n)),r[t]=e}}function Xt(t,e,r=!1){const n=Uo();if(n||ut){let i=ut?ut._context.provides:n?n.parent==null||n.ce?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return r&&B(e)?e.call(n&&n.proxy):e}}const is={},ss=()=>Object.create(is),ls=t=>Object.getPrototypeOf(t)===is;function ro(t,e,r,n=!1){const i={},s=ss();t.propsDefaults=Object.create(null),os(t,e,i,s);for(const l in t.propsOptions[0])l in i||(i[l]=void 0);r?t.props=n?i:ml(i):t.type.props?t.props=i:t.props=s,t.attrs=s}function no(t,e,r,n){const{props:i,attrs:s,vnode:{patchFlag:l}}=t,o=V(i),[c]=t.propsOptions;let h=!1;if((n||l>0)&&!(l&16)){if(l&8){const a=t.vnode.dynamicProps;for(let u=0;u<a.length;u++){let p=a[u];if(fr(t.emitsOptions,p))continue;const g=e[p];if(c)if(j(s,p))g!==s[p]&&(s[p]=g,h=!0);else{const v=Ze(p);i[v]=Br(c,o,v,g,t,!1)}else g!==s[p]&&(s[p]=g,h=!0)}}}else{os(t,e,i,s)&&(h=!0);let a;for(const u in o)(!e||!j(e,u)&&((a=lt(u))===u||!j(e,a)))&&(c?r&&(r[u]!==void 0||r[a]!==void 0)&&(i[u]=Br(c,o,u,void 0,t,!0)):delete i[u]);if(s!==o)for(const u in s)(!e||!j(e,u))&&(delete s[u],h=!0)}h&&$e(t.attrs,"set","")}function os(t,e,r,n){const[i,s]=t.propsOptions;let l=!1,o;if(e)for(let c in e){if(Tt(c))continue;const h=e[c];let a;i&&j(i,a=Ze(c))?!s||!s.includes(a)?r[a]=h:(o||(o={}))[a]=h:fr(t.emitsOptions,c)||(!(c in n)||h!==n[c])&&(n[c]=h,l=!0)}if(s){const c=V(r),h=o||J;for(let a=0;a<s.length;a++){const u=s[a];r[u]=Br(i,c,u,h[u],t,!j(h,u))}}return l}function Br(t,e,r,n,i,s){const l=t[r];if(l!=null){const o=j(l,"default");if(o&&n===void 0){const c=l.default;if(l.type!==Function&&!l.skipFactory&&B(c)){const{propsDefaults:h}=i;if(r in h)n=h[r];else{const a=kt(i);n=h[r]=c.call(null,e),a()}}else n=c;i.ce&&i.ce._setProp(r,n)}l[0]&&(s&&!o?n=!1:l[1]&&(n===""||n===lt(r))&&(n=!0))}return n}const io=new WeakMap;function cs(t,e,r=!1){const n=r?io:e.propsCache,i=n.get(t);if(i)return i;const s=t.props,l={},o=[];let c=!1;if(!B(t)){const a=u=>{c=!0;const[p,g]=cs(u,e,!0);ue(l,p),g&&o.push(...g)};!r&&e.mixins.length&&e.mixins.forEach(a),t.extends&&a(t.extends),t.mixins&&t.mixins.forEach(a)}if(!s&&!c)return re(t)&&n.set(t,ht),ht;if(z(s))for(let a=0;a<s.length;a++){const u=Ze(s[a]);Un(u)&&(l[u]=J)}else if(s)for(const a in s){const u=Ze(a);if(Un(u)){const p=s[a],g=l[u]=z(p)||B(p)?{type:p}:ue({},p),v=g.type;let x=!1,T=!0;if(z(v))for(let b=0;b<v.length;++b){const w=v[b],y=B(w)&&w.name;if(y==="Boolean"){x=!0;break}else y==="String"&&(T=!1)}else x=B(v)&&v.name==="Boolean";g[0]=x,g[1]=T,(x||j(g,"default"))&&o.push(u)}}const h=[l,o];return re(t)&&n.set(t,h),h}function Un(t){return t[0]!=="$"&&!Tt(t)}const gn=t=>t==="_"||t==="_ctx"||t==="$stable",vn=t=>z(t)?t.map(De):[De(t)],so=(t,e,r)=>{if(e._n)return e;const n=Ol((...i)=>vn(e(...i)),r);return n._c=!1,n},as=(t,e,r)=>{const n=t._ctx;for(const i in t){if(gn(i))continue;const s=t[i];if(B(s))e[i]=so(i,s,n);else if(s!=null){const l=vn(s);e[i]=()=>l}}},hs=(t,e)=>{const r=vn(e);t.slots.default=()=>r},fs=(t,e,r)=>{for(const n in e)(r||!gn(n))&&(t[n]=e[n])},lo=(t,e,r)=>{const n=t.slots=ss();if(t.vnode.shapeFlag&32){const i=e._;i?(fs(n,e,r),r&&Ri(n,"_",i,!0)):as(e,n)}else e&&hs(t,e)},oo=(t,e,r)=>{const{vnode:n,slots:i}=t;let s=!0,l=J;if(n.shapeFlag&32){const o=e._;o?r&&o===1?s=!1:fs(i,e,r):(s=!e.$stable,as(e,i)),l=e}else e&&(hs(t,e),l={default:1});if(s)for(const o in i)!gn(o)&&l[o]==null&&delete i[o]},_e=wo;function co(t){return ao(t)}function ao(t,e){const r=cr();r.__VUE__=!0;const{insert:n,remove:i,patchProp:s,createElement:l,createText:o,createComment:c,setText:h,setElementText:a,parentNode:u,nextSibling:p,setScopeId:g=Pe,insertStaticContent:v}=t,x=(f,d,m,F=null,E=null,M=null,D=void 0,R=null,S=!!d.dynamicChildren)=>{if(f===d)return;f&&!yt(f,d)&&(F=Vt(f),Te(f,E,M,!0),f=null),d.patchFlag===-2&&(S=!1,d.dynamicChildren=null);const{type:A,ref:U,shapeFlag:O}=d;switch(A){case ur:T(f,d,m,F);break;case dt:b(f,d,m,F);break;case Er:f==null&&w(d,m,F,D);break;case ke:W(f,d,m,F,E,M,D,R,S);break;default:O&1?C(f,d,m,F,E,M,D,R,S):O&6?Y(f,d,m,F,E,M,D,R,S):(O&64||O&128)&&A.process(f,d,m,F,E,M,D,R,S,mt)}U!=null&&E?Rt(U,f&&f.ref,M,d||f,!d):U==null&&f&&f.ref!=null&&Rt(f.ref,null,M,f,!0)},T=(f,d,m,F)=>{if(f==null)n(d.el=o(d.children),m,F);else{const E=d.el=f.el;d.children!==f.children&&h(E,d.children)}},b=(f,d,m,F)=>{f==null?n(d.el=c(d.children||""),m,F):d.el=f.el},w=(f,d,m,F)=>{[f.el,f.anchor]=v(f.children,d,m,F,f.el,f.anchor)},y=({el:f,anchor:d},m,F)=>{let E;for(;f&&f!==d;)E=p(f),n(f,m,F),f=E;n(d,m,F)},_=({el:f,anchor:d})=>{let m;for(;f&&f!==d;)m=p(f),i(f),f=m;i(d)},C=(f,d,m,F,E,M,D,R,S)=>{d.type==="svg"?D="svg":d.type==="math"&&(D="mathml"),f==null?P(d,m,F,E,M,D,R,S):ee(f,d,E,M,D,R,S)},P=(f,d,m,F,E,M,D,R)=>{let S,A;const{props:U,shapeFlag:O,transition:I,dirs:L}=f;if(S=f.el=l(f.type,M,U&&U.is,U),O&8?a(S,f.children):O&16&&q(f.children,S,null,F,E,yr(f,M),D,R),L&&et(f,null,F,"created"),k(S,f,f.scopeId,D,F),U){for(const Z in U)Z!=="value"&&!Tt(Z)&&s(S,Z,null,U[Z],M,F);"value"in U&&s(S,"value",null,U.value,M),(A=U.onVnodeBeforeMount)&&Re(A,F,f)}L&&et(f,null,F,"beforeMount");const $=ho(E,I);$&&I.beforeEnter(S),n(S,d,m),((A=U&&U.onVnodeMounted)||$||L)&&_e(()=>{A&&Re(A,F,f),$&&I.enter(S),L&&et(f,null,F,"mounted")},E)},k=(f,d,m,F,E)=>{if(m&&g(f,m),F)for(let M=0;M<F.length;M++)g(f,F[M]);if(E){let M=E.subTree;if(d===M||ms(M.type)&&(M.ssContent===d||M.ssFallback===d)){const D=E.vnode;k(f,D,D.scopeId,D.slotScopeIds,E.parent)}}},q=(f,d,m,F,E,M,D,R,S=0)=>{for(let A=S;A<f.length;A++){const U=f[A]=R?Xe(f[A]):De(f[A]);x(null,U,d,m,F,E,M,D,R)}},ee=(f,d,m,F,E,M,D)=>{const R=d.el=f.el;let{patchFlag:S,dynamicChildren:A,dirs:U}=d;S|=f.patchFlag&16;const O=f.props||J,I=d.props||J;let L;if(m&&tt(m,!1),(L=I.onVnodeBeforeUpdate)&&Re(L,m,d,f),U&&et(d,f,m,"beforeUpdate"),m&&tt(m,!0),(O.innerHTML&&I.innerHTML==null||O.textContent&&I.textContent==null)&&a(R,""),A?H(f.dynamicChildren,A,R,m,F,yr(d,E),M):D||K(f,d,R,null,m,F,yr(d,E),M,!1),S>0){if(S&16)X(R,O,I,m,E);else if(S&2&&O.class!==I.class&&s(R,"class",null,I.class,E),S&4&&s(R,"style",O.style,I.style,E),S&8){const $=d.dynamicProps;for(let Z=0;Z<$.length;Z++){const G=$[Z],de=O[G],pe=I[G];(pe!==de||G==="value")&&s(R,G,de,pe,E,m)}}S&1&&f.children!==d.children&&a(R,d.children)}else!D&&A==null&&X(R,O,I,m,E);((L=I.onVnodeUpdated)||U)&&_e(()=>{L&&Re(L,m,d,f),U&&et(d,f,m,"updated")},F)},H=(f,d,m,F,E,M,D)=>{for(let R=0;R<d.length;R++){const S=f[R],A=d[R],U=S.el&&(S.type===ke||!yt(S,A)||S.shapeFlag&198)?u(S.el):m;x(S,A,U,null,F,E,M,D,!0)}},X=(f,d,m,F,E)=>{if(d!==m){if(d!==J)for(const M in d)!Tt(M)&&!(M in m)&&s(f,M,d[M],null,E,F);for(const M in m){if(Tt(M))continue;const D=m[M],R=d[M];D!==R&&M!=="value"&&s(f,M,R,D,E,F)}"value"in m&&s(f,"value",d.value,m.value,E)}},W=(f,d,m,F,E,M,D,R,S)=>{const A=d.el=f?f.el:o(""),U=d.anchor=f?f.anchor:o("");let{patchFlag:O,dynamicChildren:I,slotScopeIds:L}=d;L&&(R=R?R.concat(L):L),f==null?(n(A,m,F),n(U,m,F),q(d.children||[],m,U,E,M,D,R,S)):O>0&&O&64&&I&&f.dynamicChildren?(H(f.dynamicChildren,I,m,E,M,D,R),(d.key!=null||E&&d===E.subTree)&&us(f,d,!0)):K(f,d,m,U,E,M,D,R,S)},Y=(f,d,m,F,E,M,D,R,S)=>{d.slotScopeIds=R,f==null?d.shapeFlag&512?E.ctx.activate(d,m,F,D,S):N(d,m,F,E,M,D,S):Ge(f,d,S)},N=(f,d,m,F,E,M,D)=>{const R=f.component=Io(f,F,E);if(Qi(f)&&(R.ctx.renderer=mt),Lo(R,!1,D),R.asyncDep){if(E&&E.registerDep(R,le,D),!f.el){const S=R.subTree=it(dt);b(null,S,d,m),f.placeholder=S.el}}else le(R,f,d,m,E,M,D)},Ge=(f,d,m)=>{const F=d.component=f.component;if(bo(f,d,m))if(F.asyncDep&&!F.asyncResolved){te(F,d,m);return}else F.next=d,F.update();else d.el=f.el,F.vnode=d},le=(f,d,m,F,E,M,D)=>{const R=()=>{if(f.isMounted){let{next:O,bu:I,u:L,parent:$,vnode:Z}=f;{const Ae=ds(f);if(Ae){O&&(O.el=Z.el,te(f,O,D)),Ae.asyncDep.then(()=>{f.isUnmounted||R()});return}}let G=O,de;tt(f,!1),O?(O.el=Z.el,te(f,O,D)):O=Z,I&&gr(I),(de=O.props&&O.props.onVnodeBeforeUpdate)&&Re(de,$,O,Z),tt(f,!0);const pe=Nn(f),Fe=f.subTree;f.subTree=pe,x(Fe,pe,u(Fe.el),Vt(Fe),f,E,M),O.el=pe.el,G===null&&Eo(f,pe.el),L&&_e(L,E),(de=O.props&&O.props.onVnodeUpdated)&&_e(()=>Re(de,$,O,Z),E)}else{let O;const{el:I,props:L}=d,{bm:$,m:Z,parent:G,root:de,type:pe}=f,Fe=Ct(d);tt(f,!1),$&&gr($),!Fe&&(O=L&&L.onVnodeBeforeMount)&&Re(O,G,d),tt(f,!0);{de.ce&&de.ce._def.shadowRoot!==!1&&de.ce._injectChildStyle(pe);const Ae=f.subTree=Nn(f);x(null,Ae,m,F,f,E,M),d.el=Ae.el}if(Z&&_e(Z,E),!Fe&&(O=L&&L.onVnodeMounted)){const Ae=d;_e(()=>Re(O,G,Ae),E)}(d.shapeFlag&256||G&&Ct(G.vnode)&&G.vnode.shapeFlag&256)&&f.a&&_e(f.a,E),f.isMounted=!0,d=m=F=null}};f.scope.on();const S=f.effect=new Di(R);f.scope.off();const A=f.update=S.run.bind(S),U=f.job=S.runIfDirty.bind(S);U.i=f,U.id=f.uid,S.scheduler=()=>fn(U),tt(f,!0),A()},te=(f,d,m)=>{d.component=f;const F=f.vnode.props;f.vnode=d,f.next=null,no(f,d.props,F,m),oo(f,d.children,m),He(),Rn(f),Ve()},K=(f,d,m,F,E,M,D,R,S=!1)=>{const A=f&&f.children,U=f?f.shapeFlag:0,O=d.children,{patchFlag:I,shapeFlag:L}=d;if(I>0){if(I&128){Ht(A,O,m,F,E,M,D,R,S);return}else if(I&256){Qe(A,O,m,F,E,M,D,R,S);return}}L&8?(U&16&&vt(A,E,M),O!==A&&a(m,O)):U&16?L&16?Ht(A,O,m,F,E,M,D,R,S):vt(A,E,M,!0):(U&8&&a(m,""),L&16&&q(O,m,F,E,M,D,R,S))},Qe=(f,d,m,F,E,M,D,R,S)=>{f=f||ht,d=d||ht;const A=f.length,U=d.length,O=Math.min(A,U);let I;for(I=0;I<O;I++){const L=d[I]=S?Xe(d[I]):De(d[I]);x(f[I],L,m,null,E,M,D,R,S)}A>U?vt(f,E,M,!0,!1,O):q(d,m,F,E,M,D,R,S,O)},Ht=(f,d,m,F,E,M,D,R,S)=>{let A=0;const U=d.length;let O=f.length-1,I=U-1;for(;A<=O&&A<=I;){const L=f[A],$=d[A]=S?Xe(d[A]):De(d[A]);if(yt(L,$))x(L,$,m,null,E,M,D,R,S);else break;A++}for(;A<=O&&A<=I;){const L=f[O],$=d[I]=S?Xe(d[I]):De(d[I]);if(yt(L,$))x(L,$,m,null,E,M,D,R,S);else break;O--,I--}if(A>O){if(A<=I){const L=I+1,$=L<U?d[L].el:F;for(;A<=I;)x(null,d[A]=S?Xe(d[A]):De(d[A]),m,$,E,M,D,R,S),A++}}else if(A>I)for(;A<=O;)Te(f[A],E,M,!0),A++;else{const L=A,$=A,Z=new Map;for(A=$;A<=I;A++){const me=d[A]=S?Xe(d[A]):De(d[A]);me.key!=null&&Z.set(me.key,A)}let G,de=0;const pe=I-$+1;let Fe=!1,Ae=0;const _t=new Array(pe);for(A=0;A<pe;A++)_t[A]=0;for(A=L;A<=O;A++){const me=f[A];if(de>=pe){Te(me,E,M,!0);continue}let Se;if(me.key!=null)Se=Z.get(me.key);else for(G=$;G<=I;G++)if(_t[G-$]===0&&yt(me,d[G])){Se=G;break}Se===void 0?Te(me,E,M,!0):(_t[Se-$]=A+1,Se>=Ae?Ae=Se:Fe=!0,x(me,d[Se],m,null,E,M,D,R,S),de++)}const wn=Fe?fo(_t):ht;for(G=wn.length-1,A=pe-1;A>=0;A--){const me=$+A,Se=d[me],Mn=d[me+1],Tn=me+1<U?Mn.el||Mn.placeholder:F;_t[A]===0?x(null,Se,m,Tn,E,M,D,R,S):Fe&&(G<0||A!==wn[G]?Je(Se,m,Tn,2):G--)}}},Je=(f,d,m,F,E=null)=>{const{el:M,type:D,transition:R,children:S,shapeFlag:A}=f;if(A&6){Je(f.component.subTree,d,m,F);return}if(A&128){f.suspense.move(d,m,F);return}if(A&64){D.move(f,d,m,mt);return}if(D===ke){n(M,d,m);for(let O=0;O<S.length;O++)Je(S[O],d,m,F);n(f.anchor,d,m);return}if(D===Er){y(f,d,m);return}if(F!==2&&A&1&&R)if(F===0)R.beforeEnter(M),n(M,d,m),_e(()=>R.enter(M),E);else{const{leave:O,delayLeave:I,afterLeave:L}=R,$=()=>{f.ctx.isUnmounted?i(M):n(M,d,m)},Z=()=>{M._isLeaving&&M[Ul](!0),O(M,()=>{$(),L&&L()})};I?I(M,$,Z):Z()}else n(M,d,m)},Te=(f,d,m,F=!1,E=!1)=>{const{type:M,props:D,ref:R,children:S,dynamicChildren:A,shapeFlag:U,patchFlag:O,dirs:I,cacheIndex:L}=f;if(O===-2&&(E=!1),R!=null&&(He(),Rt(R,null,m,f,!0),Ve()),L!=null&&(d.renderCache[L]=void 0),U&256){d.ctx.deactivate(f);return}const $=U&1&&I,Z=!Ct(f);let G;if(Z&&(G=D&&D.onVnodeBeforeUnmount)&&Re(G,d,f),U&6)Ls(f.component,m,F);else{if(U&128){f.suspense.unmount(m,F);return}$&&et(f,null,d,"beforeUnmount"),U&64?f.type.remove(f,d,m,mt,F):A&&!A.hasOnce&&(M!==ke||O>0&&O&64)?vt(A,d,m,!1,!0):(M===ke&&O&384||!E&&U&16)&&vt(S,d,m),F&&bn(f)}(Z&&(G=D&&D.onVnodeUnmounted)||$)&&_e(()=>{G&&Re(G,d,f),$&&et(f,null,d,"unmounted")},m)},bn=f=>{const{type:d,el:m,anchor:F,transition:E}=f;if(d===ke){Us(m,F);return}if(d===Er){_(f);return}const M=()=>{i(m),E&&!E.persisted&&E.afterLeave&&E.afterLeave()};if(f.shapeFlag&1&&E&&!E.persisted){const{leave:D,delayLeave:R}=E,S=()=>D(m,M);R?R(f.el,M,S):S()}else M()},Us=(f,d)=>{let m;for(;f!==d;)m=p(f),i(f),f=m;i(d)},Ls=(f,d,m)=>{const{bum:F,scope:E,job:M,subTree:D,um:R,m:S,a:A}=f;Ln(S),Ln(A),F&&gr(F),E.stop(),M&&(M.flags|=8,Te(D,f,d,m)),R&&_e(R,d),_e(()=>{f.isUnmounted=!0},d)},vt=(f,d,m,F=!1,E=!1,M=0)=>{for(let D=M;D<f.length;D++)Te(f[D],d,m,F,E)},Vt=f=>{if(f.shapeFlag&6)return Vt(f.component.subTree);if(f.shapeFlag&128)return f.suspense.next();const d=p(f.anchor||f.el),m=d&&d[Pl];return m?p(m):d};let dr=!1;const En=(f,d,m)=>{f==null?d._vnode&&Te(d._vnode,null,null,!0):x(d._vnode||null,f,d,null,null,null,m),d._vnode=f,dr||(dr=!0,Rn(),Xi(),dr=!1)},mt={p:x,um:Te,m:Je,r:bn,mt:N,mc:q,pc:K,pbc:H,n:Vt,o:t};return{render:En,hydrate:void 0,createApp:eo(En)}}function yr({type:t,props:e},r){return r==="svg"&&t==="foreignObject"||r==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:r}function tt({effect:t,job:e},r){r?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function ho(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function us(t,e,r=!1){const n=t.children,i=e.children;if(z(n)&&z(i))for(let s=0;s<n.length;s++){const l=n[s];let o=i[s];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=i[s]=Xe(i[s]),o.el=l.el),!r&&o.patchFlag!==-2&&us(l,o)),o.type===ur&&o.patchFlag!==-1&&(o.el=l.el),o.type===dt&&!o.el&&(o.el=l.el)}}function fo(t){const e=t.slice(),r=[0];let n,i,s,l,o;const c=t.length;for(n=0;n<c;n++){const h=t[n];if(h!==0){if(i=r[r.length-1],t[i]<h){e[n]=i,r.push(n);continue}for(s=0,l=r.length-1;s<l;)o=s+l>>1,t[r[o]]<h?s=o+1:l=o;h<t[r[s]]&&(s>0&&(e[n]=r[s-1]),r[s]=n)}}for(s=r.length,l=r[s-1];s-- >0;)r[s]=l,l=e[l];return r}function ds(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:ds(e)}function Ln(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const uo=Symbol.for("v-scx"),po=()=>Xt(uo);function br(t,e,r){return ps(t,e,r)}function ps(t,e,r=J){const{immediate:n,deep:i,flush:s,once:l}=r,o=ue({},r),c=e&&n||!e&&s!=="post";let h;if(zt){if(s==="sync"){const g=po();h=g.__watcherHandles||(g.__watcherHandles=[])}else if(!c){const g=()=>{};return g.stop=Pe,g.resume=Pe,g.pause=Pe,g}}const a=fe;o.call=(g,v,x)=>Ie(g,a,v,x);let u=!1;s==="post"?o.scheduler=g=>{_e(g,a&&a.suspense)}:s!=="sync"&&(u=!0,o.scheduler=(g,v)=>{v?g():fn(g)}),o.augmentJob=g=>{e&&(g.flags|=4),u&&(g.flags|=2,a&&(g.id=a.uid,g.i=a))};const p=Al(t,e,o);return zt&&(h?h.push(p):c&&p()),p}function go(t,e,r){const n=this.proxy,i=ne(t)?t.includes(".")?gs(n,t):()=>n[t]:t.bind(n,n);let s;B(e)?s=e:(s=e.handler,r=e);const l=kt(this),o=ps(i,s.bind(n),r);return l(),o}function gs(t,e){const r=e.split(".");return()=>{let n=t;for(let i=0;i<r.length&&n;i++)n=n[r[i]];return n}}const vo=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Ze(e)}Modifiers`]||t[`${lt(e)}Modifiers`];function mo(t,e,...r){if(t.isUnmounted)return;const n=t.vnode.props||J;let i=r;const s=e.startsWith("update:"),l=s&&vo(n,e.slice(7));l&&(l.trim&&(i=r.map(a=>ne(a)?a.trim():a)),l.number&&(i=r.map(js)));let o,c=n[o=pr(e)]||n[o=pr(Ze(e))];!c&&s&&(c=n[o=pr(lt(e))]),c&&Ie(c,t,6,i);const h=n[o+"Once"];if(h){if(!t.emitted)t.emitted={};else if(t.emitted[o])return;t.emitted[o]=!0,Ie(h,t,6,i)}}const _o=new WeakMap;function vs(t,e,r=!1){const n=r?_o:e.emitsCache,i=n.get(t);if(i!==void 0)return i;const s=t.emits;let l={},o=!1;if(!B(t)){const c=h=>{const a=vs(h,e,!0);a&&(o=!0,ue(l,a))};!r&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}return!s&&!o?(re(t)&&n.set(t,null),null):(z(s)?s.forEach(c=>l[c]=null):ue(l,s),re(t)&&n.set(t,l),l)}function fr(t,e){return!t||!sr(e)?!1:(e=e.slice(2).replace(/Once$/,""),j(t,e[0].toLowerCase()+e.slice(1))||j(t,lt(e))||j(t,e))}function Nn(t){const{type:e,vnode:r,proxy:n,withProxy:i,propsOptions:[s],slots:l,attrs:o,emit:c,render:h,renderCache:a,props:u,data:p,setupState:g,ctx:v,inheritAttrs:x}=t,T=Jt(t);let b,w;try{if(r.shapeFlag&4){const _=i||n,C=_;b=De(h.call(C,_,a,u,g,p,v)),w=o}else{const _=e;b=De(_.length>1?_(u,{attrs:o,slots:l,emit:c}):_(u,null)),w=e.props?o:xo(o)}}catch(_){Ot.length=0,ar(_,t,1),b=it(dt)}let y=b;if(w&&x!==!1){const _=Object.keys(w),{shapeFlag:C}=y;_.length&&C&7&&(s&&_.some(Kr)&&(w=yo(w,s)),y=pt(y,w,!1,!0))}return r.dirs&&(y=pt(y,null,!1,!0),y.dirs=y.dirs?y.dirs.concat(r.dirs):r.dirs),r.transition&&un(y,r.transition),b=y,Jt(T),b}const xo=t=>{let e;for(const r in t)(r==="class"||r==="style"||sr(r))&&((e||(e={}))[r]=t[r]);return e},yo=(t,e)=>{const r={};for(const n in t)(!Kr(n)||!(n.slice(9)in e))&&(r[n]=t[n]);return r};function bo(t,e,r){const{props:n,children:i,component:s}=t,{props:l,children:o,patchFlag:c}=e,h=s.emitsOptions;if(e.dirs||e.transition)return!0;if(r&&c>=0){if(c&1024)return!0;if(c&16)return n?zn(n,l,h):!!l;if(c&8){const a=e.dynamicProps;for(let u=0;u<a.length;u++){const p=a[u];if(l[p]!==n[p]&&!fr(h,p))return!0}}}else return(i||o)&&(!o||!o.$stable)?!0:n===l?!1:n?l?zn(n,l,h):!0:!!l;return!1}function zn(t,e,r){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(let i=0;i<n.length;i++){const s=n[i];if(e[s]!==t[s]&&!fr(r,s))return!0}return!1}function Eo({vnode:t,parent:e},r){for(;e;){const n=e.subTree;if(n.suspense&&n.suspense.activeBranch===t&&(n.el=t.el),n===t)(t=e.vnode).el=r,e=e.parent;else break}}const ms=t=>t.__isSuspense;function wo(t,e){e&&e.pendingBranch?z(t)?e.effects.push(...t):e.effects.push(t):Dl(t)}const ke=Symbol.for("v-fgt"),ur=Symbol.for("v-txt"),dt=Symbol.for("v-cmt"),Er=Symbol.for("v-stc"),Ot=[];let xe=null;function Mo(t=!1){Ot.push(xe=t?null:[])}function To(){Ot.pop(),xe=Ot[Ot.length-1]||null}let Nt=1;function Bn(t,e=!1){Nt+=t,t<0&&xe&&e&&(xe.hasOnce=!0)}function Fo(t){return t.dynamicChildren=Nt>0?xe||ht:null,To(),Nt>0&&xe&&xe.push(t),t}function Ao(t,e,r,n,i,s){return Fo(ys(t,e,r,n,i,s,!0))}function _s(t){return t?t.__v_isVNode===!0:!1}function yt(t,e){return t.type===e.type&&t.key===e.key}const xs=({key:t})=>t??null,Yt=({ref:t,ref_key:e,ref_for:r})=>(typeof t=="number"&&(t=""+t),t!=null?ne(t)||se(t)||B(t)?{i:Oe,r:t,k:e,f:!!r}:t:null);function ys(t,e=null,r=null,n=0,i=null,s=t===ke?0:1,l=!1,o=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&xs(e),ref:e&&Yt(e),scopeId:Ki,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:n,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Oe};return o?(mn(c,r),s&128&&t.normalize(c)):r&&(c.shapeFlag|=ne(r)?8:16),Nt>0&&!l&&xe&&(c.patchFlag>0||s&6)&&c.patchFlag!==32&&xe.push(c),c}const it=So;function So(t,e=null,r=null,n=0,i=null,s=!1){if((!t||t===Wl)&&(t=dt),_s(t)){const o=pt(t,e,!0);return r&&mn(o,r),Nt>0&&!s&&xe&&(o.shapeFlag&6?xe[xe.indexOf(t)]=o:xe.push(o)),o.patchFlag=-2,o}if(ko(t)&&(t=t.__vccOpts),e){e=Ro(e);let{class:o,style:c}=e;o&&!ne(o)&&(e.class=en(o)),re(c)&&(hn(c)&&!z(c)&&(c=ue({},c)),e.style=Jr(c))}const l=ne(t)?1:ms(t)?128:Il(t)?64:re(t)?4:B(t)?2:0;return ys(t,e,r,n,i,l,s,!0)}function Ro(t){return t?hn(t)||ls(t)?ue({},t):t:null}function pt(t,e,r=!1,n=!1){const{props:i,ref:s,patchFlag:l,children:o,transition:c}=t,h=e?Do(i||{},e):i,a={__v_isVNode:!0,__v_skip:!0,type:t.type,props:h,key:h&&xs(h),ref:e&&e.ref?r&&s?z(s)?s.concat(Yt(e)):[s,Yt(e)]:Yt(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==ke?l===-1?16:l|16:l,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:c,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&pt(t.ssContent),ssFallback:t.ssFallback&&pt(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return c&&n&&un(a,c.clone(a)),a}function Co(t=" ",e=0){return it(ur,null,t,e)}function De(t){return t==null||typeof t=="boolean"?it(dt):z(t)?it(ke,null,t.slice()):_s(t)?Xe(t):it(ur,null,String(t))}function Xe(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:pt(t)}function mn(t,e){let r=0;const{shapeFlag:n}=t;if(e==null)e=null;else if(z(e))r=16;else if(typeof e=="object")if(n&65){const i=e.default;i&&(i._c&&(i._d=!1),mn(t,i()),i._c&&(i._d=!0));return}else{r=32;const i=e._;!i&&!ls(e)?e._ctx=Oe:i===3&&Oe&&(Oe.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else B(e)?(e={default:e,_ctx:Oe},r=32):(e=String(e),n&64?(r=16,e=[Co(e)]):r=8);t.children=e,t.shapeFlag|=r}function Do(...t){const e={};for(let r=0;r<t.length;r++){const n=t[r];for(const i in n)if(i==="class")e.class!==n.class&&(e.class=en([e.class,n.class]));else if(i==="style")e.style=Jr([e.style,n.style]);else if(sr(i)){const s=e[i],l=n[i];l&&s!==l&&!(z(s)&&s.includes(l))&&(e[i]=s?[].concat(s,l):l)}else i!==""&&(e[i]=n[i])}return e}function Re(t,e,r,n=null){Ie(t,e,7,[r,n])}const Oo=ns();let Po=0;function Io(t,e,r){const n=t.type,i=(e?e.appContext:t.appContext)||Oo,s={uid:Po++,vnode:t,type:n,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Zs(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:cs(n,i),emitsOptions:vs(n,i),emit:null,emitted:null,propsDefaults:J,inheritAttrs:n.inheritAttrs,ctx:J,data:J,props:J,attrs:J,slots:J,refs:J,setupState:J,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=mo.bind(null,s),t.ce&&t.ce(s),s}let fe=null;const Uo=()=>fe||Oe;let rr,kr;{const t=cr(),e=(r,n)=>{let i;return(i=t[r])||(i=t[r]=[]),i.push(n),s=>{i.length>1?i.forEach(l=>l(s)):i[0](s)}};rr=e("__VUE_INSTANCE_SETTERS__",r=>fe=r),kr=e("__VUE_SSR_SETTERS__",r=>zt=r)}const kt=t=>{const e=fe;return rr(t),t.scope.on(),()=>{t.scope.off(),rr(e)}},kn=()=>{fe&&fe.scope.off(),rr(null)};function bs(t){return t.vnode.shapeFlag&4}let zt=!1;function Lo(t,e=!1,r=!1){e&&kr(e);const{props:n,children:i}=t.vnode,s=bs(t);ro(t,n,s,e),lo(t,i,r||e);const l=s?No(t,e):void 0;return e&&kr(!1),l}function No(t,e){const r=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,ql);const{setup:n}=r;if(n){He();const i=t.setupContext=n.length>1?Bo(t):null,s=kt(t),l=Bt(n,t,0,[t.props,i]),o=Ai(l);if(Ve(),s(),(o||t.sp)&&!Ct(t)&&Zi(t),o){if(l.then(kn,kn),e)return l.then(c=>{$n(t,c)}).catch(c=>{ar(c,t,0)});t.asyncDep=l}else $n(t,l)}else Es(t)}function $n(t,e,r){B(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:re(e)&&(t.setupState=Gi(e)),Es(t)}function Es(t,e,r){const n=t.type;t.render||(t.render=n.render||Pe);{const i=kt(t);He();try{Xl(t)}finally{Ve(),i()}}}const zo={get(t,e){return ie(t,"get",""),t[e]}};function Bo(t){const e=r=>{t.exposed=r||{}};return{attrs:new Proxy(t.attrs,zo),slots:t.slots,emit:t.emit,expose:e}}function _n(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Gi(_l(t.exposed)),{get(e,r){if(r in e)return e[r];if(r in Dt)return Dt[r](t)},has(e,r){return r in e||r in Dt}})):t.proxy}function ko(t){return B(t)&&"__vccOpts"in t}const $o=(t,e)=>Tl(t,e,zt),Ho="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let $r;const Hn=typeof window<"u"&&window.trustedTypes;if(Hn)try{$r=Hn.createPolicy("vue",{createHTML:t=>t})}catch{}const ws=$r?t=>$r.createHTML(t):t=>t,Vo="http://www.w3.org/2000/svg",jo="http://www.w3.org/1998/Math/MathML",Be=typeof document<"u"?document:null,Vn=Be&&Be.createElement("template"),Go={insert:(t,e,r)=>{e.insertBefore(t,r||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,r,n)=>{const i=e==="svg"?Be.createElementNS(Vo,t):e==="mathml"?Be.createElementNS(jo,t):r?Be.createElement(t,{is:r}):Be.createElement(t);return t==="select"&&n&&n.multiple!=null&&i.setAttribute("multiple",n.multiple),i},createText:t=>Be.createTextNode(t),createComment:t=>Be.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Be.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,r,n,i,s){const l=r?r.previousSibling:e.lastChild;if(i&&(i===s||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),r),!(i===s||!(i=i.nextSibling)););else{Vn.innerHTML=ws(n==="svg"?`<svg>${t}</svg>`:n==="mathml"?`<math>${t}</math>`:t);const o=Vn.content;if(n==="svg"||n==="mathml"){const c=o.firstChild;for(;c.firstChild;)o.appendChild(c.firstChild);o.removeChild(c)}e.insertBefore(o,r)}return[l?l.nextSibling:e.firstChild,r?r.previousSibling:e.lastChild]}},Wo=Symbol("_vtc");function qo(t,e,r){const n=t[Wo];n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?t.removeAttribute("class"):r?t.setAttribute("class",e):t.className=e}const jn=Symbol("_vod"),Xo=Symbol("_vsh"),Yo=Symbol(""),Ko=/(?:^|;)\s*display\s*:/;function Zo(t,e,r){const n=t.style,i=ne(r);let s=!1;if(r&&!i){if(e)if(ne(e))for(const l of e.split(";")){const o=l.slice(0,l.indexOf(":")).trim();r[o]==null&&Kt(n,o,"")}else for(const l in e)r[l]==null&&Kt(n,l,"");for(const l in r)l==="display"&&(s=!0),Kt(n,l,r[l])}else if(i){if(e!==r){const l=n[Yo];l&&(r+=";"+l),n.cssText=r,s=Ko.test(r)}}else e&&t.removeAttribute("style");jn in t&&(t[jn]=s?n.display:"",t[Xo]&&(n.display="none"))}const Gn=/\s*!important$/;function Kt(t,e,r){if(z(r))r.forEach(n=>Kt(t,e,n));else if(r==null&&(r=""),e.startsWith("--"))t.setProperty(e,r);else{const n=Qo(t,e);Gn.test(r)?t.setProperty(lt(n),r.replace(Gn,""),"important"):t[n]=r}}const Wn=["Webkit","Moz","ms"],wr={};function Qo(t,e){const r=wr[e];if(r)return r;let n=Ze(e);if(n!=="filter"&&n in t)return wr[e]=n;n=Si(n);for(let i=0;i<Wn.length;i++){const s=Wn[i]+n;if(s in t)return wr[e]=s}return e}const qn="http://www.w3.org/1999/xlink";function Xn(t,e,r,n,i,s=Ks(e)){n&&e.startsWith("xlink:")?r==null?t.removeAttributeNS(qn,e.slice(6,e.length)):t.setAttributeNS(qn,e,r):r==null||s&&!Ci(r)?t.removeAttribute(e):t.setAttribute(e,s?"":gt(r)?String(r):r)}function Yn(t,e,r,n,i){if(e==="innerHTML"||e==="textContent"){r!=null&&(t[e]=e==="innerHTML"?ws(r):r);return}const s=t.tagName;if(e==="value"&&s!=="PROGRESS"&&!s.includes("-")){const o=s==="OPTION"?t.getAttribute("value")||"":t.value,c=r==null?t.type==="checkbox"?"on":"":String(r);(o!==c||!("_value"in t))&&(t.value=c),r==null&&t.removeAttribute(e),t._value=r;return}let l=!1;if(r===""||r==null){const o=typeof t[e];o==="boolean"?r=Ci(r):r==null&&o==="string"?(r="",l=!0):o==="number"&&(r=0,l=!0)}try{t[e]=r}catch{}l&&t.removeAttribute(i||e)}function Jo(t,e,r,n){t.addEventListener(e,r,n)}function ec(t,e,r,n){t.removeEventListener(e,r,n)}const Kn=Symbol("_vei");function tc(t,e,r,n,i=null){const s=t[Kn]||(t[Kn]={}),l=s[e];if(n&&l)l.value=n;else{const[o,c]=rc(e);if(n){const h=s[e]=sc(n,i);Jo(t,o,h,c)}else l&&(ec(t,o,l,c),s[e]=void 0)}}const Zn=/(?:Once|Passive|Capture)$/;function rc(t){let e;if(Zn.test(t)){e={};let n;for(;n=t.match(Zn);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):lt(t.slice(2)),e]}let Mr=0;const nc=Promise.resolve(),ic=()=>Mr||(nc.then(()=>Mr=0),Mr=Date.now());function sc(t,e){const r=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=r.attached)return;Ie(lc(n,r.value),e,5,[n])};return r.value=t,r.attached=ic(),r}function lc(t,e){if(z(e)){const r=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{r.call(t),t._stopped=!0},e.map(n=>i=>!i._stopped&&n&&n(i))}else return e}const Qn=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,oc=(t,e,r,n,i,s)=>{const l=i==="svg";e==="class"?qo(t,n,l):e==="style"?Zo(t,r,n):sr(e)?Kr(e)||tc(t,e,r,n,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):cc(t,e,n,l))?(Yn(t,e,n),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Xn(t,e,n,l,s,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!ne(n))?Yn(t,Ze(e),n,s,e):(e==="true-value"?t._trueValue=n:e==="false-value"&&(t._falseValue=n),Xn(t,e,n,l))};function cc(t,e,r,n){if(n)return!!(e==="innerHTML"||e==="textContent"||e in t&&Qn(e)&&B(r));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return Qn(e)&&ne(r)?!1:e in t}const ac=ue({patchProp:oc},Go);let Jn;function hc(){return Jn||(Jn=co(ac))}const fc=((...t)=>{const e=hc().createApp(...t),{mount:r}=e;return e.mount=n=>{const i=dc(n);if(!i)return;const s=e._component;!B(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const l=r(i,!1,uc(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),l},e});function uc(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function dc(t){return ne(t)?document.querySelector(t):t}function Pt(t){let e=t[0],r=t[1],n=t[2];return Math.sqrt(e*e+r*r+n*n)}function Hr(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function pc(t,e,r,n){return t[0]=e,t[1]=r,t[2]=n,t}function ei(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t}function ti(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t}function gc(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t[2]=e[2]*r[2],t}function vc(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t[2]=e[2]/r[2],t}function Tr(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t}function mc(t,e){let r=e[0]-t[0],n=e[1]-t[1],i=e[2]-t[2];return Math.sqrt(r*r+n*n+i*i)}function _c(t,e){let r=e[0]-t[0],n=e[1]-t[1],i=e[2]-t[2];return r*r+n*n+i*i}function ri(t){let e=t[0],r=t[1],n=t[2];return e*e+r*r+n*n}function xc(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function yc(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}function Vr(t,e){let r=e[0],n=e[1],i=e[2],s=r*r+n*n+i*i;return s>0&&(s=1/Math.sqrt(s)),t[0]=e[0]*s,t[1]=e[1]*s,t[2]=e[2]*s,t}function Ms(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function ni(t,e,r){let n=e[0],i=e[1],s=e[2],l=r[0],o=r[1],c=r[2];return t[0]=i*c-s*o,t[1]=s*l-n*c,t[2]=n*o-i*l,t}function bc(t,e,r,n){let i=e[0],s=e[1],l=e[2];return t[0]=i+n*(r[0]-i),t[1]=s+n*(r[1]-s),t[2]=l+n*(r[2]-l),t}function Ec(t,e,r,n,i){const s=Math.exp(-n*i);let l=e[0],o=e[1],c=e[2];return t[0]=r[0]+(l-r[0])*s,t[1]=r[1]+(o-r[1])*s,t[2]=r[2]+(c-r[2])*s,t}function wc(t,e,r){let n=e[0],i=e[1],s=e[2],l=r[3]*n+r[7]*i+r[11]*s+r[15];return l=l||1,t[0]=(r[0]*n+r[4]*i+r[8]*s+r[12])/l,t[1]=(r[1]*n+r[5]*i+r[9]*s+r[13])/l,t[2]=(r[2]*n+r[6]*i+r[10]*s+r[14])/l,t}function Mc(t,e,r){let n=e[0],i=e[1],s=e[2],l=r[3]*n+r[7]*i+r[11]*s+r[15];return l=l||1,t[0]=(r[0]*n+r[4]*i+r[8]*s)/l,t[1]=(r[1]*n+r[5]*i+r[9]*s)/l,t[2]=(r[2]*n+r[6]*i+r[10]*s)/l,t}function Tc(t,e,r){let n=e[0],i=e[1],s=e[2];return t[0]=n*r[0]+i*r[3]+s*r[6],t[1]=n*r[1]+i*r[4]+s*r[7],t[2]=n*r[2]+i*r[5]+s*r[8],t}function Fc(t,e,r){let n=e[0],i=e[1],s=e[2],l=r[0],o=r[1],c=r[2],h=r[3],a=o*s-c*i,u=c*n-l*s,p=l*i-o*n,g=o*p-c*u,v=c*a-l*p,x=l*u-o*a,T=h*2;return a*=T,u*=T,p*=T,g*=2,v*=2,x*=2,t[0]=n+a+g,t[1]=i+u+v,t[2]=s+p+x,t}const Ac=(function(){const t=[0,0,0],e=[0,0,0];return function(r,n){Hr(t,r),Hr(e,n),Vr(t,t),Vr(e,e);let i=Ms(t,e);return i>1?0:i<-1?Math.PI:Math.acos(i)}})();function Sc(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}class be extends Array{constructor(e=0,r=e,n=e){return super(e,r,n),this}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(e){this[0]=e}set y(e){this[1]=e}set z(e){this[2]=e}set(e,r=e,n=e){return e.length?this.copy(e):(pc(this,e,r,n),this)}copy(e){return Hr(this,e),this}add(e,r){return r?ei(this,e,r):ei(this,this,e),this}sub(e,r){return r?ti(this,e,r):ti(this,this,e),this}multiply(e){return e.length?gc(this,this,e):Tr(this,this,e),this}divide(e){return e.length?vc(this,this,e):Tr(this,this,1/e),this}inverse(e=this){return yc(this,e),this}len(){return Pt(this)}distance(e){return e?mc(this,e):Pt(this)}squaredLen(){return ri(this)}squaredDistance(e){return e?_c(this,e):ri(this)}negate(e=this){return xc(this,e),this}cross(e,r){return r?ni(this,e,r):ni(this,this,e),this}scale(e){return Tr(this,this,e),this}normalize(){return Vr(this,this),this}dot(e){return Ms(this,e)}equals(e){return Sc(this,e)}applyMatrix3(e){return Tc(this,this,e),this}applyMatrix4(e){return wc(this,this,e),this}scaleRotateMatrix4(e){return Mc(this,this,e),this}applyQuaternion(e){return Fc(this,this,e),this}angle(e){return Ac(this,e)}lerp(e,r){return bc(this,this,e,r),this}smoothLerp(e,r,n){return Ec(this,this,e,r,n),this}clone(){return new be(this[0],this[1],this[2])}fromArray(e,r=0){return this[0]=e[r],this[1]=e[r+1],this[2]=e[r+2],this}toArray(e=[],r=0){return e[r]=this[0],e[r+1]=this[1],e[r+2]=this[2],e}transformDirection(e){const r=this[0],n=this[1],i=this[2];return this[0]=e[0]*r+e[4]*n+e[8]*i,this[1]=e[1]*r+e[5]*n+e[9]*i,this[2]=e[2]*r+e[6]*n+e[10]*i,this.normalize()}}const ii=new be;let Rc=1,Cc=1,si=!1;class Ts{constructor(e,r={}){e.canvas||console.error("gl not passed as first argument to Geometry"),this.gl=e,this.attributes=r,this.id=Rc++,this.VAOs={},this.drawRange={start:0,count:0},this.instancedCount=0,this.gl.renderer.bindVertexArray(null),this.gl.renderer.currentGeometry=null,this.glState=this.gl.renderer.state;for(let n in r)this.addAttribute(n,r[n])}addAttribute(e,r){if(this.attributes[e]=r,r.id=Cc++,r.size=r.size||1,r.type=r.type||(r.data.constructor===Float32Array?this.gl.FLOAT:r.data.constructor===Uint16Array?this.gl.UNSIGNED_SHORT:this.gl.UNSIGNED_INT),r.target=e==="index"?this.gl.ELEMENT_ARRAY_BUFFER:this.gl.ARRAY_BUFFER,r.normalized=r.normalized||!1,r.stride=r.stride||0,r.offset=r.offset||0,r.count=r.count||(r.stride?r.data.byteLength/r.stride:r.data.length/r.size),r.divisor=r.instanced||0,r.needsUpdate=!1,r.usage=r.usage||this.gl.STATIC_DRAW,r.buffer||this.updateAttribute(r),r.divisor){if(this.isInstanced=!0,this.instancedCount&&this.instancedCount!==r.count*r.divisor)return console.warn("geometry has multiple instanced buffers of different length"),this.instancedCount=Math.min(this.instancedCount,r.count*r.divisor);this.instancedCount=r.count*r.divisor}else e==="index"?this.drawRange.count=r.count:this.attributes.index||(this.drawRange.count=Math.max(this.drawRange.count,r.count))}updateAttribute(e){const r=!e.buffer;r&&(e.buffer=this.gl.createBuffer()),this.glState.boundBuffer!==e.buffer&&(this.gl.bindBuffer(e.target,e.buffer),this.glState.boundBuffer=e.buffer),r?this.gl.bufferData(e.target,e.data,e.usage):this.gl.bufferSubData(e.target,0,e.data),e.needsUpdate=!1}setIndex(e){this.addAttribute("index",e)}setDrawRange(e,r){this.drawRange.start=e,this.drawRange.count=r}setInstancedCount(e){this.instancedCount=e}createVAO(e){this.VAOs[e.attributeOrder]=this.gl.renderer.createVertexArray(),this.gl.renderer.bindVertexArray(this.VAOs[e.attributeOrder]),this.bindAttributes(e)}bindAttributes(e){e.attributeLocations.forEach((r,{name:n,type:i})=>{if(!this.attributes[n]){console.warn(`active attribute ${n} not being supplied`);return}const s=this.attributes[n];this.gl.bindBuffer(s.target,s.buffer),this.glState.boundBuffer=s.buffer;let l=1;i===35674&&(l=2),i===35675&&(l=3),i===35676&&(l=4);const o=s.size/l,c=l===1?0:l*l*4,h=l===1?0:l*4;for(let a=0;a<l;a++)this.gl.vertexAttribPointer(r+a,o,s.type,s.normalized,s.stride+c,s.offset+a*h),this.gl.enableVertexAttribArray(r+a),this.gl.renderer.vertexAttribDivisor(r+a,s.divisor)}),this.attributes.index&&this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.attributes.index.buffer)}draw({program:e,mode:r=this.gl.TRIANGLES}){this.gl.renderer.currentGeometry!==`${this.id}_${e.attributeOrder}`&&(this.VAOs[e.attributeOrder]||this.createVAO(e),this.gl.renderer.bindVertexArray(this.VAOs[e.attributeOrder]),this.gl.renderer.currentGeometry=`${this.id}_${e.attributeOrder}`),e.attributeLocations.forEach((i,{name:s})=>{const l=this.attributes[s];l.needsUpdate&&this.updateAttribute(l)});let n=2;this.attributes.index?.type===this.gl.UNSIGNED_INT&&(n=4),this.isInstanced?this.attributes.index?this.gl.renderer.drawElementsInstanced(r,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*n,this.instancedCount):this.gl.renderer.drawArraysInstanced(r,this.drawRange.start,this.drawRange.count,this.instancedCount):this.attributes.index?this.gl.drawElements(r,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*n):this.gl.drawArrays(r,this.drawRange.start,this.drawRange.count)}getPosition(){const e=this.attributes.position;if(e.data)return e;if(!si)return console.warn("No position buffer data found to compute bounds"),si=!0}computeBoundingBox(e){e||(e=this.getPosition());const r=e.data,n=e.size;this.bounds||(this.bounds={min:new be,max:new be,center:new be,scale:new be,radius:1/0});const i=this.bounds.min,s=this.bounds.max,l=this.bounds.center,o=this.bounds.scale;i.set(1/0),s.set(-1/0);for(let c=0,h=r.length;c<h;c+=n){const a=r[c],u=r[c+1],p=r[c+2];i.x=Math.min(a,i.x),i.y=Math.min(u,i.y),i.z=Math.min(p,i.z),s.x=Math.max(a,s.x),s.y=Math.max(u,s.y),s.z=Math.max(p,s.z)}o.sub(s,i),l.add(i,s).divide(2)}computeBoundingSphere(e){e||(e=this.getPosition());const r=e.data,n=e.size;this.bounds||this.computeBoundingBox(e);let i=0;for(let s=0,l=r.length;s<l;s+=n)ii.fromArray(r,s),i=Math.max(i,this.bounds.center.squaredDistance(ii));this.bounds.radius=Math.sqrt(i)}remove(){for(let e in this.VAOs)this.gl.renderer.deleteVertexArray(this.VAOs[e]),delete this.VAOs[e];for(let e in this.attributes)this.gl.deleteBuffer(this.attributes[e].buffer),delete this.attributes[e]}}let Dc=1;const li={};class Fs{constructor(e,{vertex:r,fragment:n,uniforms:i={},transparent:s=!1,cullFace:l=e.BACK,frontFace:o=e.CCW,depthTest:c=!0,depthWrite:h=!0,depthFunc:a=e.LEQUAL}={}){e.canvas||console.error("gl not passed as first argument to Program"),this.gl=e,this.uniforms=i,this.id=Dc++,r||console.warn("vertex shader not supplied"),n||console.warn("fragment shader not supplied"),this.transparent=s,this.cullFace=l,this.frontFace=o,this.depthTest=c,this.depthWrite=h,this.depthFunc=a,this.blendFunc={},this.blendEquation={},this.stencilFunc={},this.stencilOp={},this.transparent&&!this.blendFunc.src&&(this.gl.renderer.premultipliedAlpha?this.setBlendFunc(this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA):this.setBlendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA)),this.vertexShader=e.createShader(e.VERTEX_SHADER),this.fragmentShader=e.createShader(e.FRAGMENT_SHADER),this.program=e.createProgram(),e.attachShader(this.program,this.vertexShader),e.attachShader(this.program,this.fragmentShader),this.setShaders({vertex:r,fragment:n})}setShaders({vertex:e,fragment:r}){if(e&&(this.gl.shaderSource(this.vertexShader,e),this.gl.compileShader(this.vertexShader),this.gl.getShaderInfoLog(this.vertexShader)!==""&&console.warn(`${this.gl.getShaderInfoLog(this.vertexShader)}
Vertex Shader
${oi(e)}`)),r&&(this.gl.shaderSource(this.fragmentShader,r),this.gl.compileShader(this.fragmentShader),this.gl.getShaderInfoLog(this.fragmentShader)!==""&&console.warn(`${this.gl.getShaderInfoLog(this.fragmentShader)}
Fragment Shader
${oi(r)}`)),this.gl.linkProgram(this.program),!this.gl.getProgramParameter(this.program,this.gl.LINK_STATUS))return console.warn(this.gl.getProgramInfoLog(this.program));this.uniformLocations=new Map;let n=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_UNIFORMS);for(let l=0;l<n;l++){let o=this.gl.getActiveUniform(this.program,l);this.uniformLocations.set(o,this.gl.getUniformLocation(this.program,o.name));const c=o.name.match(/(\w+)/g);o.uniformName=c[0],o.nameComponents=c.slice(1)}this.attributeLocations=new Map;const i=[],s=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES);for(let l=0;l<s;l++){const o=this.gl.getActiveAttrib(this.program,l),c=this.gl.getAttribLocation(this.program,o.name);c!==-1&&(i[c]=o.name,this.attributeLocations.set(o,c))}this.attributeOrder=i.join("")}setBlendFunc(e,r,n,i){this.blendFunc.src=e,this.blendFunc.dst=r,this.blendFunc.srcAlpha=n,this.blendFunc.dstAlpha=i,e&&(this.transparent=!0)}setBlendEquation(e,r){this.blendEquation.modeRGB=e,this.blendEquation.modeAlpha=r}setStencilFunc(e,r,n){this.stencilRef=r,this.stencilFunc.func=e,this.stencilFunc.ref=r,this.stencilFunc.mask=n}setStencilOp(e,r,n){this.stencilOp.stencilFail=e,this.stencilOp.depthFail=r,this.stencilOp.depthPass=n}applyState(){this.depthTest?this.gl.renderer.enable(this.gl.DEPTH_TEST):this.gl.renderer.disable(this.gl.DEPTH_TEST),this.cullFace?this.gl.renderer.enable(this.gl.CULL_FACE):this.gl.renderer.disable(this.gl.CULL_FACE),this.blendFunc.src?this.gl.renderer.enable(this.gl.BLEND):this.gl.renderer.disable(this.gl.BLEND),this.cullFace&&this.gl.renderer.setCullFace(this.cullFace),this.gl.renderer.setFrontFace(this.frontFace),this.gl.renderer.setDepthMask(this.depthWrite),this.gl.renderer.setDepthFunc(this.depthFunc),this.blendFunc.src&&this.gl.renderer.setBlendFunc(this.blendFunc.src,this.blendFunc.dst,this.blendFunc.srcAlpha,this.blendFunc.dstAlpha),this.gl.renderer.setBlendEquation(this.blendEquation.modeRGB,this.blendEquation.modeAlpha),this.stencilFunc.func||this.stencilOp.stencilFail?this.gl.renderer.enable(this.gl.STENCIL_TEST):this.gl.renderer.disable(this.gl.STENCIL_TEST),this.gl.renderer.setStencilFunc(this.stencilFunc.func,this.stencilFunc.ref,this.stencilFunc.mask),this.gl.renderer.setStencilOp(this.stencilOp.stencilFail,this.stencilOp.depthFail,this.stencilOp.depthPass)}use({flipFaces:e=!1}={}){let r=-1;this.gl.renderer.state.currentProgram===this.id||(this.gl.useProgram(this.program),this.gl.renderer.state.currentProgram=this.id),this.uniformLocations.forEach((i,s)=>{let l=this.uniforms[s.uniformName];for(const o of s.nameComponents){if(!l)break;if(o in l)l=l[o];else{if(Array.isArray(l.value))break;l=void 0;break}}if(!l)return ci(`Active uniform ${s.name} has not been supplied`);if(l&&l.value===void 0)return ci(`${s.name} uniform is missing a value parameter`);if(l.value.texture)return r=r+1,l.value.update(r),Fr(this.gl,s.type,i,r);if(l.value.length&&l.value[0].texture){const o=[];return l.value.forEach(c=>{r=r+1,c.update(r),o.push(r)}),Fr(this.gl,s.type,i,o)}Fr(this.gl,s.type,i,l.value)}),this.applyState(),e&&this.gl.renderer.setFrontFace(this.frontFace===this.gl.CCW?this.gl.CW:this.gl.CCW)}remove(){this.gl.deleteProgram(this.program)}}function Fr(t,e,r,n){n=n.length?Oc(n):n;const i=t.renderer.state.uniformLocations.get(r);if(n.length)if(i===void 0||i.length!==n.length)t.renderer.state.uniformLocations.set(r,n.slice(0));else{if(Pc(i,n))return;i.set?i.set(n):Ic(i,n),t.renderer.state.uniformLocations.set(r,i)}else{if(i===n)return;t.renderer.state.uniformLocations.set(r,n)}switch(e){case 5126:return n.length?t.uniform1fv(r,n):t.uniform1f(r,n);case 35664:return t.uniform2fv(r,n);case 35665:return t.uniform3fv(r,n);case 35666:return t.uniform4fv(r,n);case 35670:case 5124:case 35678:case 36306:case 35680:case 36289:return n.length?t.uniform1iv(r,n):t.uniform1i(r,n);case 35671:case 35667:return t.uniform2iv(r,n);case 35672:case 35668:return t.uniform3iv(r,n);case 35673:case 35669:return t.uniform4iv(r,n);case 35674:return t.uniformMatrix2fv(r,!1,n);case 35675:return t.uniformMatrix3fv(r,!1,n);case 35676:return t.uniformMatrix4fv(r,!1,n)}}function oi(t){let e=t.split(`
`);for(let r=0;r<e.length;r++)e[r]=r+1+": "+e[r];return e.join(`
`)}function Oc(t){const e=t.length,r=t[0].length;if(r===void 0)return t;const n=e*r;let i=li[n];i||(li[n]=i=new Float32Array(n));for(let s=0;s<e;s++)i.set(t[s],s*r);return i}function Pc(t,e){if(t.length!==e.length)return!1;for(let r=0,n=t.length;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Ic(t,e){for(let r=0,n=t.length;r<n;r++)t[r]=e[r]}let Ar=0;function ci(t){Ar>100||(console.warn(t),Ar++,Ar>100&&console.warn("More than 100 program warnings - stopping logs."))}const Sr=new be;let Uc=1;class Lc{constructor({canvas:e=document.createElement("canvas"),width:r=300,height:n=150,dpr:i=1,alpha:s=!1,depth:l=!0,stencil:o=!1,antialias:c=!1,premultipliedAlpha:h=!1,preserveDrawingBuffer:a=!1,powerPreference:u="default",autoClear:p=!0,webgl:g=2}={}){const v={alpha:s,depth:l,stencil:o,antialias:c,premultipliedAlpha:h,preserveDrawingBuffer:a,powerPreference:u};this.dpr=i,this.alpha=s,this.color=!0,this.depth=l,this.stencil=o,this.premultipliedAlpha=h,this.autoClear=p,this.id=Uc++,g===2&&(this.gl=e.getContext("webgl2",v)),this.isWebgl2=!!this.gl,this.gl||(this.gl=e.getContext("webgl",v)),this.gl||console.error("unable to create webgl context"),this.gl.renderer=this,this.setSize(r,n),this.state={},this.state.blendFunc={src:this.gl.ONE,dst:this.gl.ZERO},this.state.blendEquation={modeRGB:this.gl.FUNC_ADD},this.state.cullFace=!1,this.state.frontFace=this.gl.CCW,this.state.depthMask=!0,this.state.depthFunc=this.gl.LEQUAL,this.state.premultiplyAlpha=!1,this.state.flipY=!1,this.state.unpackAlignment=4,this.state.framebuffer=null,this.state.viewport={x:0,y:0,width:null,height:null},this.state.textureUnits=[],this.state.activeTextureUnit=0,this.state.boundBuffer=null,this.state.uniformLocations=new Map,this.state.currentProgram=null,this.extensions={},this.isWebgl2?(this.getExtension("EXT_color_buffer_float"),this.getExtension("OES_texture_float_linear")):(this.getExtension("OES_texture_float"),this.getExtension("OES_texture_float_linear"),this.getExtension("OES_texture_half_float"),this.getExtension("OES_texture_half_float_linear"),this.getExtension("OES_element_index_uint"),this.getExtension("OES_standard_derivatives"),this.getExtension("EXT_sRGB"),this.getExtension("WEBGL_depth_texture"),this.getExtension("WEBGL_draw_buffers")),this.getExtension("WEBGL_compressed_texture_astc"),this.getExtension("EXT_texture_compression_bptc"),this.getExtension("WEBGL_compressed_texture_s3tc"),this.getExtension("WEBGL_compressed_texture_etc1"),this.getExtension("WEBGL_compressed_texture_pvrtc"),this.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),this.vertexAttribDivisor=this.getExtension("ANGLE_instanced_arrays","vertexAttribDivisor","vertexAttribDivisorANGLE"),this.drawArraysInstanced=this.getExtension("ANGLE_instanced_arrays","drawArraysInstanced","drawArraysInstancedANGLE"),this.drawElementsInstanced=this.getExtension("ANGLE_instanced_arrays","drawElementsInstanced","drawElementsInstancedANGLE"),this.createVertexArray=this.getExtension("OES_vertex_array_object","createVertexArray","createVertexArrayOES"),this.bindVertexArray=this.getExtension("OES_vertex_array_object","bindVertexArray","bindVertexArrayOES"),this.deleteVertexArray=this.getExtension("OES_vertex_array_object","deleteVertexArray","deleteVertexArrayOES"),this.drawBuffers=this.getExtension("WEBGL_draw_buffers","drawBuffers","drawBuffersWEBGL"),this.parameters={},this.parameters.maxTextureUnits=this.gl.getParameter(this.gl.MAX_COMBINED_TEXTURE_IMAGE_UNITS),this.parameters.maxAnisotropy=this.getExtension("EXT_texture_filter_anisotropic")?this.gl.getParameter(this.getExtension("EXT_texture_filter_anisotropic").MAX_TEXTURE_MAX_ANISOTROPY_EXT):0}setSize(e,r){this.width=e,this.height=r,this.gl.canvas.width=e*this.dpr,this.gl.canvas.height=r*this.dpr,this.gl.canvas.style&&Object.assign(this.gl.canvas.style,{width:e+"px",height:r+"px"})}setViewport(e,r,n=0,i=0){this.state.viewport.width===e&&this.state.viewport.height===r||(this.state.viewport.width=e,this.state.viewport.height=r,this.state.viewport.x=n,this.state.viewport.y=i,this.gl.viewport(n,i,e,r))}setScissor(e,r,n=0,i=0){this.gl.scissor(n,i,e,r)}enable(e){this.state[e]!==!0&&(this.gl.enable(e),this.state[e]=!0)}disable(e){this.state[e]!==!1&&(this.gl.disable(e),this.state[e]=!1)}setBlendFunc(e,r,n,i){this.state.blendFunc.src===e&&this.state.blendFunc.dst===r&&this.state.blendFunc.srcAlpha===n&&this.state.blendFunc.dstAlpha===i||(this.state.blendFunc.src=e,this.state.blendFunc.dst=r,this.state.blendFunc.srcAlpha=n,this.state.blendFunc.dstAlpha=i,n!==void 0?this.gl.blendFuncSeparate(e,r,n,i):this.gl.blendFunc(e,r))}setBlendEquation(e,r){e=e||this.gl.FUNC_ADD,!(this.state.blendEquation.modeRGB===e&&this.state.blendEquation.modeAlpha===r)&&(this.state.blendEquation.modeRGB=e,this.state.blendEquation.modeAlpha=r,r!==void 0?this.gl.blendEquationSeparate(e,r):this.gl.blendEquation(e))}setCullFace(e){this.state.cullFace!==e&&(this.state.cullFace=e,this.gl.cullFace(e))}setFrontFace(e){this.state.frontFace!==e&&(this.state.frontFace=e,this.gl.frontFace(e))}setDepthMask(e){this.state.depthMask!==e&&(this.state.depthMask=e,this.gl.depthMask(e))}setDepthFunc(e){this.state.depthFunc!==e&&(this.state.depthFunc=e,this.gl.depthFunc(e))}setStencilMask(e){this.state.stencilMask!==e&&(this.state.stencilMask=e,this.gl.stencilMask(e))}setStencilFunc(e,r,n){this.state.stencilFunc===e&&this.state.stencilRef===r&&this.state.stencilFuncMask===n||(this.state.stencilFunc=e||this.gl.ALWAYS,this.state.stencilRef=r||0,this.state.stencilFuncMask=n||0,this.gl.stencilFunc(e||this.gl.ALWAYS,r||0,n||0))}setStencilOp(e,r,n){this.state.stencilFail===e&&this.state.stencilDepthFail===r&&this.state.stencilDepthPass===n||(this.state.stencilFail=e,this.state.stencilDepthFail=r,this.state.stencilDepthPass=n,this.gl.stencilOp(e,r,n))}activeTexture(e){this.state.activeTextureUnit!==e&&(this.state.activeTextureUnit=e,this.gl.activeTexture(this.gl.TEXTURE0+e))}bindFramebuffer({target:e=this.gl.FRAMEBUFFER,buffer:r=null}={}){this.state.framebuffer!==r&&(this.state.framebuffer=r,this.gl.bindFramebuffer(e,r))}getExtension(e,r,n){return r&&this.gl[r]?this.gl[r].bind(this.gl):(this.extensions[e]||(this.extensions[e]=this.gl.getExtension(e)),r?this.extensions[e]?this.extensions[e][n].bind(this.extensions[e]):null:this.extensions[e])}sortOpaque(e,r){return e.renderOrder!==r.renderOrder?e.renderOrder-r.renderOrder:e.program.id!==r.program.id?e.program.id-r.program.id:e.zDepth!==r.zDepth?e.zDepth-r.zDepth:r.id-e.id}sortTransparent(e,r){return e.renderOrder!==r.renderOrder?e.renderOrder-r.renderOrder:e.zDepth!==r.zDepth?r.zDepth-e.zDepth:r.id-e.id}sortUI(e,r){return e.renderOrder!==r.renderOrder?e.renderOrder-r.renderOrder:e.program.id!==r.program.id?e.program.id-r.program.id:r.id-e.id}getRenderList({scene:e,camera:r,frustumCull:n,sort:i}){let s=[];if(r&&n&&r.updateFrustum(),e.traverse(l=>{if(!l.visible)return!0;l.draw&&(n&&l.frustumCulled&&r&&!r.frustumIntersectsMesh(l)||s.push(l))}),i){const l=[],o=[],c=[];s.forEach(h=>{h.program.transparent?h.program.depthTest?o.push(h):c.push(h):l.push(h),h.zDepth=0,!(h.renderOrder!==0||!h.program.depthTest||!r)&&(h.worldMatrix.getTranslation(Sr),Sr.applyMatrix4(r.projectionViewMatrix),h.zDepth=Sr.z)}),l.sort(this.sortOpaque),o.sort(this.sortTransparent),c.sort(this.sortUI),s=l.concat(o,c)}return s}render({scene:e,camera:r,target:n=null,update:i=!0,sort:s=!0,frustumCull:l=!0,clear:o}){n===null?(this.bindFramebuffer(),this.setViewport(this.width*this.dpr,this.height*this.dpr)):(this.bindFramebuffer(n),this.setViewport(n.width,n.height)),(o||this.autoClear&&o!==!1)&&(this.depth&&(!n||n.depth)&&(this.enable(this.gl.DEPTH_TEST),this.setDepthMask(!0)),(this.stencil||!n||n.stencil)&&(this.enable(this.gl.STENCIL_TEST),this.setStencilMask(255)),this.gl.clear((this.color?this.gl.COLOR_BUFFER_BIT:0)|(this.depth?this.gl.DEPTH_BUFFER_BIT:0)|(this.stencil?this.gl.STENCIL_BUFFER_BIT:0))),i&&e.updateMatrixWorld(),r&&r.updateMatrixWorld(),this.getRenderList({scene:e,camera:r,frustumCull:l,sort:s}).forEach(h=>{h.draw({camera:r})})}}function Nc(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function zc(t,e,r,n,i){return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t}function Bc(t,e){let r=e[0],n=e[1],i=e[2],s=e[3],l=r*r+n*n+i*i+s*s;return l>0&&(l=1/Math.sqrt(l)),t[0]=r*l,t[1]=n*l,t[2]=i*l,t[3]=s*l,t}function kc(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function $c(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function Hc(t,e,r){r=r*.5;let n=Math.sin(r);return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=Math.cos(r),t}function ai(t,e,r){let n=e[0],i=e[1],s=e[2],l=e[3],o=r[0],c=r[1],h=r[2],a=r[3];return t[0]=n*a+l*o+i*h-s*c,t[1]=i*a+l*c+s*o-n*h,t[2]=s*a+l*h+n*c-i*o,t[3]=l*a-n*o-i*c-s*h,t}function Vc(t,e,r){r*=.5;let n=e[0],i=e[1],s=e[2],l=e[3],o=Math.sin(r),c=Math.cos(r);return t[0]=n*c+l*o,t[1]=i*c+s*o,t[2]=s*c-i*o,t[3]=l*c-n*o,t}function jc(t,e,r){r*=.5;let n=e[0],i=e[1],s=e[2],l=e[3],o=Math.sin(r),c=Math.cos(r);return t[0]=n*c-s*o,t[1]=i*c+l*o,t[2]=s*c+n*o,t[3]=l*c-i*o,t}function Gc(t,e,r){r*=.5;let n=e[0],i=e[1],s=e[2],l=e[3],o=Math.sin(r),c=Math.cos(r);return t[0]=n*c+i*o,t[1]=i*c-n*o,t[2]=s*c+l*o,t[3]=l*c-s*o,t}function Wc(t,e,r,n){let i=e[0],s=e[1],l=e[2],o=e[3],c=r[0],h=r[1],a=r[2],u=r[3],p,g,v,x,T;return g=i*c+s*h+l*a+o*u,g<0&&(g=-g,c=-c,h=-h,a=-a,u=-u),1-g>1e-6?(p=Math.acos(g),v=Math.sin(p),x=Math.sin((1-n)*p)/v,T=Math.sin(n*p)/v):(x=1-n,T=n),t[0]=x*i+T*c,t[1]=x*s+T*h,t[2]=x*l+T*a,t[3]=x*o+T*u,t}function qc(t,e){let r=e[0],n=e[1],i=e[2],s=e[3],l=r*r+n*n+i*i+s*s,o=l?1/l:0;return t[0]=-r*o,t[1]=-n*o,t[2]=-i*o,t[3]=s*o,t}function Xc(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t}function Yc(t,e){let r=e[0]+e[4]+e[8],n;if(r>0)n=Math.sqrt(r+1),t[3]=.5*n,n=.5/n,t[0]=(e[5]-e[7])*n,t[1]=(e[6]-e[2])*n,t[2]=(e[1]-e[3])*n;else{let i=0;e[4]>e[0]&&(i=1),e[8]>e[i*3+i]&&(i=2);let s=(i+1)%3,l=(i+2)%3;n=Math.sqrt(e[i*3+i]-e[s*3+s]-e[l*3+l]+1),t[i]=.5*n,n=.5/n,t[3]=(e[s*3+l]-e[l*3+s])*n,t[s]=(e[s*3+i]+e[i*3+s])*n,t[l]=(e[l*3+i]+e[i*3+l])*n}return t}function Kc(t,e,r="YXZ"){let n=Math.sin(e[0]*.5),i=Math.cos(e[0]*.5),s=Math.sin(e[1]*.5),l=Math.cos(e[1]*.5),o=Math.sin(e[2]*.5),c=Math.cos(e[2]*.5);return r==="XYZ"?(t[0]=n*l*c+i*s*o,t[1]=i*s*c-n*l*o,t[2]=i*l*o+n*s*c,t[3]=i*l*c-n*s*o):r==="YXZ"?(t[0]=n*l*c+i*s*o,t[1]=i*s*c-n*l*o,t[2]=i*l*o-n*s*c,t[3]=i*l*c+n*s*o):r==="ZXY"?(t[0]=n*l*c-i*s*o,t[1]=i*s*c+n*l*o,t[2]=i*l*o+n*s*c,t[3]=i*l*c-n*s*o):r==="ZYX"?(t[0]=n*l*c-i*s*o,t[1]=i*s*c+n*l*o,t[2]=i*l*o-n*s*c,t[3]=i*l*c+n*s*o):r==="YZX"?(t[0]=n*l*c+i*s*o,t[1]=i*s*c+n*l*o,t[2]=i*l*o-n*s*c,t[3]=i*l*c-n*s*o):r==="XZY"&&(t[0]=n*l*c-i*s*o,t[1]=i*s*c-n*l*o,t[2]=i*l*o+n*s*c,t[3]=i*l*c+n*s*o),t}const Zc=Nc,Qc=zc,Jc=kc,ea=Bc;class xn extends Array{constructor(e=0,r=0,n=0,i=1){super(e,r,n,i),this.onChange=()=>{},this._target=this;const s=["0","1","2","3"];return new Proxy(this,{set(l,o){const c=Reflect.set(...arguments);return c&&s.includes(o)&&l.onChange(),c}})}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}get w(){return this[3]}set x(e){this._target[0]=e,this.onChange()}set y(e){this._target[1]=e,this.onChange()}set z(e){this._target[2]=e,this.onChange()}set w(e){this._target[3]=e,this.onChange()}identity(){return $c(this._target),this.onChange(),this}set(e,r,n,i){return e.length?this.copy(e):(Qc(this._target,e,r,n,i),this.onChange(),this)}rotateX(e){return Vc(this._target,this._target,e),this.onChange(),this}rotateY(e){return jc(this._target,this._target,e),this.onChange(),this}rotateZ(e){return Gc(this._target,this._target,e),this.onChange(),this}inverse(e=this._target){return qc(this._target,e),this.onChange(),this}conjugate(e=this._target){return Xc(this._target,e),this.onChange(),this}copy(e){return Zc(this._target,e),this.onChange(),this}normalize(e=this._target){return ea(this._target,e),this.onChange(),this}multiply(e,r){return r?ai(this._target,e,r):ai(this._target,this._target,e),this.onChange(),this}dot(e){return Jc(this._target,e)}fromMatrix3(e){return Yc(this._target,e),this.onChange(),this}fromEuler(e,r){return Kc(this._target,e,e.order),r||this.onChange(),this}fromAxisAngle(e,r){return Hc(this._target,e,r),this.onChange(),this}slerp(e,r){return Wc(this._target,this._target,e,r),this.onChange(),this}fromArray(e,r=0){return this._target[0]=e[r],this._target[1]=e[r+1],this._target[2]=e[r+2],this._target[3]=e[r+3],this.onChange(),this}toArray(e=[],r=0){return e[r]=this[0],e[r+1]=this[1],e[r+2]=this[2],e[r+3]=this[3],e}}const ta=1e-6;function ra(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function na(t,e,r,n,i,s,l,o,c,h,a,u,p,g,v,x,T){return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t[4]=s,t[5]=l,t[6]=o,t[7]=c,t[8]=h,t[9]=a,t[10]=u,t[11]=p,t[12]=g,t[13]=v,t[14]=x,t[15]=T,t}function ia(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function sa(t,e){let r=e[0],n=e[1],i=e[2],s=e[3],l=e[4],o=e[5],c=e[6],h=e[7],a=e[8],u=e[9],p=e[10],g=e[11],v=e[12],x=e[13],T=e[14],b=e[15],w=r*o-n*l,y=r*c-i*l,_=r*h-s*l,C=n*c-i*o,P=n*h-s*o,k=i*h-s*c,q=a*x-u*v,ee=a*T-p*v,H=a*b-g*v,X=u*T-p*x,W=u*b-g*x,Y=p*b-g*T,N=w*Y-y*W+_*X+C*H-P*ee+k*q;return N?(N=1/N,t[0]=(o*Y-c*W+h*X)*N,t[1]=(i*W-n*Y-s*X)*N,t[2]=(x*k-T*P+b*C)*N,t[3]=(p*P-u*k-g*C)*N,t[4]=(c*H-l*Y-h*ee)*N,t[5]=(r*Y-i*H+s*ee)*N,t[6]=(T*_-v*k-b*y)*N,t[7]=(a*k-p*_+g*y)*N,t[8]=(l*W-o*H+h*q)*N,t[9]=(n*H-r*W-s*q)*N,t[10]=(v*P-x*_+b*w)*N,t[11]=(u*_-a*P-g*w)*N,t[12]=(o*ee-l*X-c*q)*N,t[13]=(r*X-n*ee+i*q)*N,t[14]=(x*y-v*C-T*w)*N,t[15]=(a*C-u*y+p*w)*N,t):null}function As(t){let e=t[0],r=t[1],n=t[2],i=t[3],s=t[4],l=t[5],o=t[6],c=t[7],h=t[8],a=t[9],u=t[10],p=t[11],g=t[12],v=t[13],x=t[14],T=t[15],b=e*l-r*s,w=e*o-n*s,y=e*c-i*s,_=r*o-n*l,C=r*c-i*l,P=n*c-i*o,k=h*v-a*g,q=h*x-u*g,ee=h*T-p*g,H=a*x-u*v,X=a*T-p*v,W=u*T-p*x;return b*W-w*X+y*H+_*ee-C*q+P*k}function hi(t,e,r){let n=e[0],i=e[1],s=e[2],l=e[3],o=e[4],c=e[5],h=e[6],a=e[7],u=e[8],p=e[9],g=e[10],v=e[11],x=e[12],T=e[13],b=e[14],w=e[15],y=r[0],_=r[1],C=r[2],P=r[3];return t[0]=y*n+_*o+C*u+P*x,t[1]=y*i+_*c+C*p+P*T,t[2]=y*s+_*h+C*g+P*b,t[3]=y*l+_*a+C*v+P*w,y=r[4],_=r[5],C=r[6],P=r[7],t[4]=y*n+_*o+C*u+P*x,t[5]=y*i+_*c+C*p+P*T,t[6]=y*s+_*h+C*g+P*b,t[7]=y*l+_*a+C*v+P*w,y=r[8],_=r[9],C=r[10],P=r[11],t[8]=y*n+_*o+C*u+P*x,t[9]=y*i+_*c+C*p+P*T,t[10]=y*s+_*h+C*g+P*b,t[11]=y*l+_*a+C*v+P*w,y=r[12],_=r[13],C=r[14],P=r[15],t[12]=y*n+_*o+C*u+P*x,t[13]=y*i+_*c+C*p+P*T,t[14]=y*s+_*h+C*g+P*b,t[15]=y*l+_*a+C*v+P*w,t}function la(t,e,r){let n=r[0],i=r[1],s=r[2],l,o,c,h,a,u,p,g,v,x,T,b;return e===t?(t[12]=e[0]*n+e[4]*i+e[8]*s+e[12],t[13]=e[1]*n+e[5]*i+e[9]*s+e[13],t[14]=e[2]*n+e[6]*i+e[10]*s+e[14],t[15]=e[3]*n+e[7]*i+e[11]*s+e[15]):(l=e[0],o=e[1],c=e[2],h=e[3],a=e[4],u=e[5],p=e[6],g=e[7],v=e[8],x=e[9],T=e[10],b=e[11],t[0]=l,t[1]=o,t[2]=c,t[3]=h,t[4]=a,t[5]=u,t[6]=p,t[7]=g,t[8]=v,t[9]=x,t[10]=T,t[11]=b,t[12]=l*n+a*i+v*s+e[12],t[13]=o*n+u*i+x*s+e[13],t[14]=c*n+p*i+T*s+e[14],t[15]=h*n+g*i+b*s+e[15]),t}function oa(t,e,r){let n=r[0],i=r[1],s=r[2];return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*s,t[9]=e[9]*s,t[10]=e[10]*s,t[11]=e[11]*s,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function ca(t,e,r,n){let i=n[0],s=n[1],l=n[2],o=Math.hypot(i,s,l),c,h,a,u,p,g,v,x,T,b,w,y,_,C,P,k,q,ee,H,X,W,Y,N,Ge;return Math.abs(o)<ta?null:(o=1/o,i*=o,s*=o,l*=o,c=Math.sin(r),h=Math.cos(r),a=1-h,u=e[0],p=e[1],g=e[2],v=e[3],x=e[4],T=e[5],b=e[6],w=e[7],y=e[8],_=e[9],C=e[10],P=e[11],k=i*i*a+h,q=s*i*a+l*c,ee=l*i*a-s*c,H=i*s*a-l*c,X=s*s*a+h,W=l*s*a+i*c,Y=i*l*a+s*c,N=s*l*a-i*c,Ge=l*l*a+h,t[0]=u*k+x*q+y*ee,t[1]=p*k+T*q+_*ee,t[2]=g*k+b*q+C*ee,t[3]=v*k+w*q+P*ee,t[4]=u*H+x*X+y*W,t[5]=p*H+T*X+_*W,t[6]=g*H+b*X+C*W,t[7]=v*H+w*X+P*W,t[8]=u*Y+x*N+y*Ge,t[9]=p*Y+T*N+_*Ge,t[10]=g*Y+b*N+C*Ge,t[11]=v*Y+w*N+P*Ge,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function aa(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function Ss(t,e){let r=e[0],n=e[1],i=e[2],s=e[4],l=e[5],o=e[6],c=e[8],h=e[9],a=e[10];return t[0]=Math.hypot(r,n,i),t[1]=Math.hypot(s,l,o),t[2]=Math.hypot(c,h,a),t}function ha(t){let e=t[0],r=t[1],n=t[2],i=t[4],s=t[5],l=t[6],o=t[8],c=t[9],h=t[10];const a=e*e+r*r+n*n,u=i*i+s*s+l*l,p=o*o+c*c+h*h;return Math.sqrt(Math.max(a,u,p))}const Rs=(function(){const t=[1,1,1];return function(e,r){let n=t;Ss(n,r);let i=1/n[0],s=1/n[1],l=1/n[2],o=r[0]*i,c=r[1]*s,h=r[2]*l,a=r[4]*i,u=r[5]*s,p=r[6]*l,g=r[8]*i,v=r[9]*s,x=r[10]*l,T=o+u+x,b=0;return T>0?(b=Math.sqrt(T+1)*2,e[3]=.25*b,e[0]=(p-v)/b,e[1]=(g-h)/b,e[2]=(c-a)/b):o>u&&o>x?(b=Math.sqrt(1+o-u-x)*2,e[3]=(p-v)/b,e[0]=.25*b,e[1]=(c+a)/b,e[2]=(g+h)/b):u>x?(b=Math.sqrt(1+u-o-x)*2,e[3]=(g-h)/b,e[0]=(c+a)/b,e[1]=.25*b,e[2]=(p+v)/b):(b=Math.sqrt(1+x-o-u)*2,e[3]=(c-a)/b,e[0]=(g+h)/b,e[1]=(p+v)/b,e[2]=.25*b),e}})();function fa(t,e,r,n){let i=Pt([t[0],t[1],t[2]]);const s=Pt([t[4],t[5],t[6]]),l=Pt([t[8],t[9],t[10]]);As(t)<0&&(i=-i),r[0]=t[12],r[1]=t[13],r[2]=t[14];const c=t.slice(),h=1/i,a=1/s,u=1/l;c[0]*=h,c[1]*=h,c[2]*=h,c[4]*=a,c[5]*=a,c[6]*=a,c[8]*=u,c[9]*=u,c[10]*=u,Rs(e,c),n[0]=i,n[1]=s,n[2]=l}function ua(t,e,r,n){const i=t,s=e[0],l=e[1],o=e[2],c=e[3],h=s+s,a=l+l,u=o+o,p=s*h,g=s*a,v=s*u,x=l*a,T=l*u,b=o*u,w=c*h,y=c*a,_=c*u,C=n[0],P=n[1],k=n[2];return i[0]=(1-(x+b))*C,i[1]=(g+_)*C,i[2]=(v-y)*C,i[3]=0,i[4]=(g-_)*P,i[5]=(1-(p+b))*P,i[6]=(T+w)*P,i[7]=0,i[8]=(v+y)*k,i[9]=(T-w)*k,i[10]=(1-(p+x))*k,i[11]=0,i[12]=r[0],i[13]=r[1],i[14]=r[2],i[15]=1,i}function da(t,e){let r=e[0],n=e[1],i=e[2],s=e[3],l=r+r,o=n+n,c=i+i,h=r*l,a=n*l,u=n*o,p=i*l,g=i*o,v=i*c,x=s*l,T=s*o,b=s*c;return t[0]=1-u-v,t[1]=a+b,t[2]=p-T,t[3]=0,t[4]=a-b,t[5]=1-h-v,t[6]=g+x,t[7]=0,t[8]=p+T,t[9]=g-x,t[10]=1-h-u,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function pa(t,e,r,n,i){let s=1/Math.tan(e/2),l=1/(n-i);return t[0]=s/r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(i+n)*l,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*i*n*l,t[15]=0,t}function ga(t,e,r,n,i,s,l){let o=1/(e-r),c=1/(n-i),h=1/(s-l);return t[0]=-2*o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*c,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*h,t[11]=0,t[12]=(e+r)*o,t[13]=(i+n)*c,t[14]=(l+s)*h,t[15]=1,t}function va(t,e,r,n){let i=e[0],s=e[1],l=e[2],o=n[0],c=n[1],h=n[2],a=i-r[0],u=s-r[1],p=l-r[2],g=a*a+u*u+p*p;g===0?p=1:(g=1/Math.sqrt(g),a*=g,u*=g,p*=g);let v=c*p-h*u,x=h*a-o*p,T=o*u-c*a;return g=v*v+x*x+T*T,g===0&&(h?o+=1e-6:c?h+=1e-6:c+=1e-6,v=c*p-h*u,x=h*a-o*p,T=o*u-c*a,g=v*v+x*x+T*T),g=1/Math.sqrt(g),v*=g,x*=g,T*=g,t[0]=v,t[1]=x,t[2]=T,t[3]=0,t[4]=u*T-p*x,t[5]=p*v-a*T,t[6]=a*x-u*v,t[7]=0,t[8]=a,t[9]=u,t[10]=p,t[11]=0,t[12]=i,t[13]=s,t[14]=l,t[15]=1,t}function fi(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t[4]=e[4]+r[4],t[5]=e[5]+r[5],t[6]=e[6]+r[6],t[7]=e[7]+r[7],t[8]=e[8]+r[8],t[9]=e[9]+r[9],t[10]=e[10]+r[10],t[11]=e[11]+r[11],t[12]=e[12]+r[12],t[13]=e[13]+r[13],t[14]=e[14]+r[14],t[15]=e[15]+r[15],t}function ui(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t[4]=e[4]-r[4],t[5]=e[5]-r[5],t[6]=e[6]-r[6],t[7]=e[7]-r[7],t[8]=e[8]-r[8],t[9]=e[9]-r[9],t[10]=e[10]-r[10],t[11]=e[11]-r[11],t[12]=e[12]-r[12],t[13]=e[13]-r[13],t[14]=e[14]-r[14],t[15]=e[15]-r[15],t}function ma(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*r,t[9]=e[9]*r,t[10]=e[10]*r,t[11]=e[11]*r,t[12]=e[12]*r,t[13]=e[13]*r,t[14]=e[14]*r,t[15]=e[15]*r,t}class nr extends Array{constructor(e=1,r=0,n=0,i=0,s=0,l=1,o=0,c=0,h=0,a=0,u=1,p=0,g=0,v=0,x=0,T=1){return super(e,r,n,i,s,l,o,c,h,a,u,p,g,v,x,T),this}get x(){return this[12]}get y(){return this[13]}get z(){return this[14]}get w(){return this[15]}set x(e){this[12]=e}set y(e){this[13]=e}set z(e){this[14]=e}set w(e){this[15]=e}set(e,r,n,i,s,l,o,c,h,a,u,p,g,v,x,T){return e.length?this.copy(e):(na(this,e,r,n,i,s,l,o,c,h,a,u,p,g,v,x,T),this)}translate(e,r=this){return la(this,r,e),this}rotate(e,r,n=this){return ca(this,n,e,r),this}scale(e,r=this){return oa(this,r,typeof e=="number"?[e,e,e]:e),this}add(e,r){return r?fi(this,e,r):fi(this,this,e),this}sub(e,r){return r?ui(this,e,r):ui(this,this,e),this}multiply(e,r){return e.length?r?hi(this,e,r):hi(this,this,e):ma(this,this,e),this}identity(){return ia(this),this}copy(e){return ra(this,e),this}fromPerspective({fov:e,aspect:r,near:n,far:i}={}){return pa(this,e,r,n,i),this}fromOrthogonal({left:e,right:r,bottom:n,top:i,near:s,far:l}){return ga(this,e,r,n,i,s,l),this}fromQuaternion(e){return da(this,e),this}setPosition(e){return this.x=e[0],this.y=e[1],this.z=e[2],this}inverse(e=this){return sa(this,e),this}compose(e,r,n){return ua(this,e,r,n),this}decompose(e,r,n){return fa(this,e,r,n),this}getRotation(e){return Rs(e,this),this}getTranslation(e){return aa(e,this),this}getScaling(e){return Ss(e,this),this}getMaxScaleOnAxis(){return ha(this)}lookAt(e,r,n){return va(this,e,r,n),this}determinant(){return As(this)}fromArray(e,r=0){return this[0]=e[r],this[1]=e[r+1],this[2]=e[r+2],this[3]=e[r+3],this[4]=e[r+4],this[5]=e[r+5],this[6]=e[r+6],this[7]=e[r+7],this[8]=e[r+8],this[9]=e[r+9],this[10]=e[r+10],this[11]=e[r+11],this[12]=e[r+12],this[13]=e[r+13],this[14]=e[r+14],this[15]=e[r+15],this}toArray(e=[],r=0){return e[r]=this[0],e[r+1]=this[1],e[r+2]=this[2],e[r+3]=this[3],e[r+4]=this[4],e[r+5]=this[5],e[r+6]=this[6],e[r+7]=this[7],e[r+8]=this[8],e[r+9]=this[9],e[r+10]=this[10],e[r+11]=this[11],e[r+12]=this[12],e[r+13]=this[13],e[r+14]=this[14],e[r+15]=this[15],e}}function _a(t,e,r="YXZ"){return r==="XYZ"?(t[1]=Math.asin(Math.min(Math.max(e[8],-1),1)),Math.abs(e[8])<.99999?(t[0]=Math.atan2(-e[9],e[10]),t[2]=Math.atan2(-e[4],e[0])):(t[0]=Math.atan2(e[6],e[5]),t[2]=0)):r==="YXZ"?(t[0]=Math.asin(-Math.min(Math.max(e[9],-1),1)),Math.abs(e[9])<.99999?(t[1]=Math.atan2(e[8],e[10]),t[2]=Math.atan2(e[1],e[5])):(t[1]=Math.atan2(-e[2],e[0]),t[2]=0)):r==="ZXY"?(t[0]=Math.asin(Math.min(Math.max(e[6],-1),1)),Math.abs(e[6])<.99999?(t[1]=Math.atan2(-e[2],e[10]),t[2]=Math.atan2(-e[4],e[5])):(t[1]=0,t[2]=Math.atan2(e[1],e[0]))):r==="ZYX"?(t[1]=Math.asin(-Math.min(Math.max(e[2],-1),1)),Math.abs(e[2])<.99999?(t[0]=Math.atan2(e[6],e[10]),t[2]=Math.atan2(e[1],e[0])):(t[0]=0,t[2]=Math.atan2(-e[4],e[5]))):r==="YZX"?(t[2]=Math.asin(Math.min(Math.max(e[1],-1),1)),Math.abs(e[1])<.99999?(t[0]=Math.atan2(-e[9],e[5]),t[1]=Math.atan2(-e[2],e[0])):(t[0]=0,t[1]=Math.atan2(e[8],e[10]))):r==="XZY"&&(t[2]=Math.asin(-Math.min(Math.max(e[4],-1),1)),Math.abs(e[4])<.99999?(t[0]=Math.atan2(e[6],e[5]),t[1]=Math.atan2(e[8],e[0])):(t[0]=Math.atan2(-e[9],e[10]),t[1]=0)),t}const di=new nr;class Cs extends Array{constructor(e=0,r=e,n=e,i="YXZ"){super(e,r,n),this.order=i,this.onChange=()=>{},this._target=this;const s=["0","1","2"];return new Proxy(this,{set(l,o){const c=Reflect.set(...arguments);return c&&s.includes(o)&&l.onChange(),c}})}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(e){this._target[0]=e,this.onChange()}set y(e){this._target[1]=e,this.onChange()}set z(e){this._target[2]=e,this.onChange()}set(e,r=e,n=e){return e.length?this.copy(e):(this._target[0]=e,this._target[1]=r,this._target[2]=n,this.onChange(),this)}copy(e){return this._target[0]=e[0],this._target[1]=e[1],this._target[2]=e[2],this.onChange(),this}reorder(e){return this._target.order=e,this.onChange(),this}fromRotationMatrix(e,r=this.order){return _a(this._target,e,r),this.onChange(),this}fromQuaternion(e,r=this.order,n){return di.fromQuaternion(e),this._target.fromRotationMatrix(di,r),n||this.onChange(),this}fromArray(e,r=0){return this._target[0]=e[r],this._target[1]=e[r+1],this._target[2]=e[r+2],this}toArray(e=[],r=0){return e[r]=this[0],e[r+1]=this[1],e[r+2]=this[2],e}}class xa{constructor(){this.parent=null,this.children=[],this.visible=!0,this.matrix=new nr,this.worldMatrix=new nr,this.matrixAutoUpdate=!0,this.worldMatrixNeedsUpdate=!1,this.position=new be,this.quaternion=new xn,this.scale=new be(1),this.rotation=new Cs,this.up=new be(0,1,0),this.rotation._target.onChange=()=>this.quaternion.fromEuler(this.rotation,!0),this.quaternion._target.onChange=()=>this.rotation.fromQuaternion(this.quaternion,void 0,!0)}setParent(e,r=!0){this.parent&&e!==this.parent&&this.parent.removeChild(this,!1),this.parent=e,r&&e&&e.addChild(this,!1)}addChild(e,r=!0){~this.children.indexOf(e)||this.children.push(e),r&&e.setParent(this,!1)}removeChild(e,r=!0){~this.children.indexOf(e)&&this.children.splice(this.children.indexOf(e),1),r&&e.setParent(null,!1)}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.worldMatrixNeedsUpdate||e)&&(this.parent===null?this.worldMatrix.copy(this.matrix):this.worldMatrix.multiply(this.parent.worldMatrix,this.matrix),this.worldMatrixNeedsUpdate=!1,e=!0);for(let r=0,n=this.children.length;r<n;r++)this.children[r].updateMatrixWorld(e)}updateMatrix(){this.matrix.compose(this.quaternion,this.position,this.scale),this.worldMatrixNeedsUpdate=!0}traverse(e){if(!e(this))for(let r=0,n=this.children.length;r<n;r++)this.children[r].traverse(e)}decompose(){this.matrix.decompose(this.quaternion._target,this.position,this.scale),this.rotation.fromQuaternion(this.quaternion)}lookAt(e,r=!1){r?this.matrix.lookAt(this.position,e,this.up):this.matrix.lookAt(e,this.position,this.up),this.matrix.getRotation(this.quaternion._target),this.rotation.fromQuaternion(this.quaternion)}}function ya(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function ba(t,e){let r=e[0],n=e[1],i=e[2],s=e[3],l=r+r,o=n+n,c=i+i,h=r*l,a=n*l,u=n*o,p=i*l,g=i*o,v=i*c,x=s*l,T=s*o,b=s*c;return t[0]=1-u-v,t[3]=a-b,t[6]=p+T,t[1]=a+b,t[4]=1-h-v,t[7]=g-x,t[2]=p-T,t[5]=g+x,t[8]=1-h-u,t}function Ea(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function wa(t,e,r,n,i,s,l,o,c,h){return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t[4]=s,t[5]=l,t[6]=o,t[7]=c,t[8]=h,t}function Ma(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function Ta(t,e){let r=e[0],n=e[1],i=e[2],s=e[3],l=e[4],o=e[5],c=e[6],h=e[7],a=e[8],u=a*l-o*h,p=-a*s+o*c,g=h*s-l*c,v=r*u+n*p+i*g;return v?(v=1/v,t[0]=u*v,t[1]=(-a*n+i*h)*v,t[2]=(o*n-i*l)*v,t[3]=p*v,t[4]=(a*r-i*c)*v,t[5]=(-o*r+i*s)*v,t[6]=g*v,t[7]=(-h*r+n*c)*v,t[8]=(l*r-n*s)*v,t):null}function pi(t,e,r){let n=e[0],i=e[1],s=e[2],l=e[3],o=e[4],c=e[5],h=e[6],a=e[7],u=e[8],p=r[0],g=r[1],v=r[2],x=r[3],T=r[4],b=r[5],w=r[6],y=r[7],_=r[8];return t[0]=p*n+g*l+v*h,t[1]=p*i+g*o+v*a,t[2]=p*s+g*c+v*u,t[3]=x*n+T*l+b*h,t[4]=x*i+T*o+b*a,t[5]=x*s+T*c+b*u,t[6]=w*n+y*l+_*h,t[7]=w*i+y*o+_*a,t[8]=w*s+y*c+_*u,t}function Fa(t,e,r){let n=e[0],i=e[1],s=e[2],l=e[3],o=e[4],c=e[5],h=e[6],a=e[7],u=e[8],p=r[0],g=r[1];return t[0]=n,t[1]=i,t[2]=s,t[3]=l,t[4]=o,t[5]=c,t[6]=p*n+g*l+h,t[7]=p*i+g*o+a,t[8]=p*s+g*c+u,t}function Aa(t,e,r){let n=e[0],i=e[1],s=e[2],l=e[3],o=e[4],c=e[5],h=e[6],a=e[7],u=e[8],p=Math.sin(r),g=Math.cos(r);return t[0]=g*n+p*l,t[1]=g*i+p*o,t[2]=g*s+p*c,t[3]=g*l-p*n,t[4]=g*o-p*i,t[5]=g*c-p*s,t[6]=h,t[7]=a,t[8]=u,t}function Sa(t,e,r){let n=r[0],i=r[1];return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=i*e[3],t[4]=i*e[4],t[5]=i*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function Ra(t,e){let r=e[0],n=e[1],i=e[2],s=e[3],l=e[4],o=e[5],c=e[6],h=e[7],a=e[8],u=e[9],p=e[10],g=e[11],v=e[12],x=e[13],T=e[14],b=e[15],w=r*o-n*l,y=r*c-i*l,_=r*h-s*l,C=n*c-i*o,P=n*h-s*o,k=i*h-s*c,q=a*x-u*v,ee=a*T-p*v,H=a*b-g*v,X=u*T-p*x,W=u*b-g*x,Y=p*b-g*T,N=w*Y-y*W+_*X+C*H-P*ee+k*q;return N?(N=1/N,t[0]=(o*Y-c*W+h*X)*N,t[1]=(c*H-l*Y-h*ee)*N,t[2]=(l*W-o*H+h*q)*N,t[3]=(i*W-n*Y-s*X)*N,t[4]=(r*Y-i*H+s*ee)*N,t[5]=(n*H-r*W-s*q)*N,t[6]=(x*k-T*P+b*C)*N,t[7]=(T*_-v*k-b*y)*N,t[8]=(v*P-x*_+b*w)*N,t):null}class yn extends Array{constructor(e=1,r=0,n=0,i=0,s=1,l=0,o=0,c=0,h=1){return super(e,r,n,i,s,l,o,c,h),this}set(e,r,n,i,s,l,o,c,h){return e.length?this.copy(e):(wa(this,e,r,n,i,s,l,o,c,h),this)}translate(e,r=this){return Fa(this,r,e),this}rotate(e,r=this){return Aa(this,r,e),this}scale(e,r=this){return Sa(this,r,e),this}multiply(e,r){return r?pi(this,e,r):pi(this,this,e),this}identity(){return Ma(this),this}copy(e){return Ea(this,e),this}fromMatrix4(e){return ya(this,e),this}fromQuaternion(e){return ba(this,e),this}fromBasis(e,r,n){return this.set(e[0],e[1],e[2],r[0],r[1],r[2],n[0],n[1],n[2]),this}inverse(e=this){return Ta(this,e),this}getNormalMatrix(e){return Ra(this,e),this}}let Ca=0;class Ds extends xa{constructor(e,{geometry:r,program:n,mode:i=e.TRIANGLES,frustumCulled:s=!0,renderOrder:l=0}={}){super(),e.canvas||console.error("gl not passed as first argument to Mesh"),this.gl=e,this.id=Ca++,this.geometry=r,this.program=n,this.mode=i,this.frustumCulled=s,this.renderOrder=l,this.modelViewMatrix=new nr,this.normalMatrix=new yn,this.beforeRenderCallbacks=[],this.afterRenderCallbacks=[]}onBeforeRender(e){return this.beforeRenderCallbacks.push(e),this}onAfterRender(e){return this.afterRenderCallbacks.push(e),this}draw({camera:e}={}){e&&(this.program.uniforms.modelMatrix||Object.assign(this.program.uniforms,{modelMatrix:{value:null},viewMatrix:{value:null},modelViewMatrix:{value:null},normalMatrix:{value:null},projectionMatrix:{value:null},cameraPosition:{value:null}}),this.program.uniforms.projectionMatrix.value=e.projectionMatrix,this.program.uniforms.cameraPosition.value=e.worldPosition,this.program.uniforms.viewMatrix.value=e.viewMatrix,this.modelViewMatrix.multiply(e.viewMatrix,this.worldMatrix),this.normalMatrix.getNormalMatrix(this.modelViewMatrix),this.program.uniforms.modelMatrix.value=this.worldMatrix,this.program.uniforms.modelViewMatrix.value=this.modelViewMatrix,this.program.uniforms.normalMatrix.value=this.normalMatrix),this.beforeRenderCallbacks.forEach(n=>n&&n({mesh:this,camera:e}));let r=this.program.cullFace&&this.worldMatrix.determinant()<0;this.program.use({flipFaces:r}),this.geometry.draw({mode:this.mode,program:this.program}),this.afterRenderCallbacks.forEach(n=>n&&n({mesh:this,camera:e}))}}const gi=new Uint8Array(4);function vi(t){return(t&t-1)===0}let Da=1;class jr{constructor(e,{image:r,target:n=e.TEXTURE_2D,type:i=e.UNSIGNED_BYTE,format:s=e.RGBA,internalFormat:l=s,wrapS:o=e.CLAMP_TO_EDGE,wrapT:c=e.CLAMP_TO_EDGE,wrapR:h=e.CLAMP_TO_EDGE,generateMipmaps:a=n===(e.TEXTURE_2D||e.TEXTURE_CUBE_MAP),minFilter:u=a?e.NEAREST_MIPMAP_LINEAR:e.LINEAR,magFilter:p=e.LINEAR,premultiplyAlpha:g=!1,unpackAlignment:v=4,flipY:x=n==(e.TEXTURE_2D||e.TEXTURE_3D),anisotropy:T=0,level:b=0,width:w,height:y=w,length:_=1}={}){this.gl=e,this.id=Da++,this.image=r,this.target=n,this.type=i,this.format=s,this.internalFormat=l,this.minFilter=u,this.magFilter=p,this.wrapS=o,this.wrapT=c,this.wrapR=h,this.generateMipmaps=a,this.premultiplyAlpha=g,this.unpackAlignment=v,this.flipY=x,this.anisotropy=Math.min(T,this.gl.renderer.parameters.maxAnisotropy),this.level=b,this.width=w,this.height=y,this.length=_,this.texture=this.gl.createTexture(),this.store={image:null},this.glState=this.gl.renderer.state,this.state={},this.state.minFilter=this.gl.NEAREST_MIPMAP_LINEAR,this.state.magFilter=this.gl.LINEAR,this.state.wrapS=this.gl.REPEAT,this.state.wrapT=this.gl.REPEAT,this.state.anisotropy=0}bind(){this.glState.textureUnits[this.glState.activeTextureUnit]!==this.id&&(this.gl.bindTexture(this.target,this.texture),this.glState.textureUnits[this.glState.activeTextureUnit]=this.id)}update(e=0){const r=!(this.image===this.store.image&&!this.needsUpdate);if((r||this.glState.textureUnits[e]!==this.id)&&(this.gl.renderer.activeTexture(e),this.bind()),!!r){if(this.needsUpdate=!1,this.flipY!==this.glState.flipY&&(this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,this.flipY),this.glState.flipY=this.flipY),this.premultiplyAlpha!==this.glState.premultiplyAlpha&&(this.gl.pixelStorei(this.gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),this.glState.premultiplyAlpha=this.premultiplyAlpha),this.unpackAlignment!==this.glState.unpackAlignment&&(this.gl.pixelStorei(this.gl.UNPACK_ALIGNMENT,this.unpackAlignment),this.glState.unpackAlignment=this.unpackAlignment),this.minFilter!==this.state.minFilter&&(this.gl.texParameteri(this.target,this.gl.TEXTURE_MIN_FILTER,this.minFilter),this.state.minFilter=this.minFilter),this.magFilter!==this.state.magFilter&&(this.gl.texParameteri(this.target,this.gl.TEXTURE_MAG_FILTER,this.magFilter),this.state.magFilter=this.magFilter),this.wrapS!==this.state.wrapS&&(this.gl.texParameteri(this.target,this.gl.TEXTURE_WRAP_S,this.wrapS),this.state.wrapS=this.wrapS),this.wrapT!==this.state.wrapT&&(this.gl.texParameteri(this.target,this.gl.TEXTURE_WRAP_T,this.wrapT),this.state.wrapT=this.wrapT),this.wrapR!==this.state.wrapR&&(this.gl.texParameteri(this.target,this.gl.TEXTURE_WRAP_R,this.wrapR),this.state.wrapR=this.wrapR),this.anisotropy&&this.anisotropy!==this.state.anisotropy&&(this.gl.texParameterf(this.target,this.gl.renderer.getExtension("EXT_texture_filter_anisotropic").TEXTURE_MAX_ANISOTROPY_EXT,this.anisotropy),this.state.anisotropy=this.anisotropy),this.image){if(this.image.width&&(this.width=this.image.width,this.height=this.image.height),this.target===this.gl.TEXTURE_CUBE_MAP)for(let n=0;n<6;n++)this.gl.texImage2D(this.gl.TEXTURE_CUBE_MAP_POSITIVE_X+n,this.level,this.internalFormat,this.format,this.type,this.image[n]);else if(ArrayBuffer.isView(this.image))this.target===this.gl.TEXTURE_2D?this.gl.texImage2D(this.target,this.level,this.internalFormat,this.width,this.height,0,this.format,this.type,this.image):(this.target===this.gl.TEXTURE_2D_ARRAY||this.target===this.gl.TEXTURE_3D)&&this.gl.texImage3D(this.target,this.level,this.internalFormat,this.width,this.height,this.length,0,this.format,this.type,this.image);else if(this.image.isCompressedTexture)for(let n=0;n<this.image.length;n++)this.gl.compressedTexImage2D(this.target,n,this.internalFormat,this.image[n].width,this.image[n].height,0,this.image[n].data);else this.target===this.gl.TEXTURE_2D?this.gl.texImage2D(this.target,this.level,this.internalFormat,this.format,this.type,this.image):this.gl.texImage3D(this.target,this.level,this.internalFormat,this.width,this.height,this.length,0,this.format,this.type,this.image);this.generateMipmaps&&(!this.gl.renderer.isWebgl2&&(!vi(this.image.width)||!vi(this.image.height))?(this.generateMipmaps=!1,this.wrapS=this.wrapT=this.gl.CLAMP_TO_EDGE,this.minFilter=this.gl.LINEAR):this.gl.generateMipmap(this.target)),this.onUpdate&&this.onUpdate()}else if(this.target===this.gl.TEXTURE_CUBE_MAP)for(let n=0;n<6;n++)this.gl.texImage2D(this.gl.TEXTURE_CUBE_MAP_POSITIVE_X+n,0,this.gl.RGBA,1,1,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,gi);else this.width?this.target===this.gl.TEXTURE_2D?this.gl.texImage2D(this.target,this.level,this.internalFormat,this.width,this.height,0,this.format,this.type,null):this.gl.texImage3D(this.target,this.level,this.internalFormat,this.width,this.height,this.length,0,this.format,this.type,null):this.gl.texImage2D(this.target,0,this.gl.RGBA,1,1,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,gi);this.store.image=this.image}}}class Gr{constructor(e,{width:r=e.canvas.width,height:n=e.canvas.height,target:i=e.FRAMEBUFFER,color:s=1,depth:l=!0,stencil:o=!1,depthTexture:c=!1,wrapS:h=e.CLAMP_TO_EDGE,wrapT:a=e.CLAMP_TO_EDGE,wrapR:u=e.CLAMP_TO_EDGE,minFilter:p=e.LINEAR,magFilter:g=p,type:v=e.UNSIGNED_BYTE,format:x=e.RGBA,internalFormat:T=x,unpackAlignment:b,premultiplyAlpha:w}={}){this.gl=e,this.width=r,this.height=n,this.depth=l,this.stencil=o,this.buffer=this.gl.createFramebuffer(),this.target=i,this.gl.renderer.bindFramebuffer(this),this.textures=[];const y=[];for(let _=0;_<s;_++)this.textures.push(new jr(e,{width:r,height:n,wrapS:h,wrapT:a,wrapR:u,minFilter:p,magFilter:g,type:v,format:x,internalFormat:T,unpackAlignment:b,premultiplyAlpha:w,flipY:!1,generateMipmaps:!1})),this.textures[_].update(),this.gl.framebufferTexture2D(this.target,this.gl.COLOR_ATTACHMENT0+_,this.gl.TEXTURE_2D,this.textures[_].texture,0),y.push(this.gl.COLOR_ATTACHMENT0+_);y.length>1&&this.gl.renderer.drawBuffers(y),this.texture=this.textures[0],c&&(this.gl.renderer.isWebgl2||this.gl.renderer.getExtension("WEBGL_depth_texture"))?(this.depthTexture=new jr(e,{width:r,height:n,minFilter:this.gl.NEAREST,magFilter:this.gl.NEAREST,format:this.stencil?this.gl.DEPTH_STENCIL:this.gl.DEPTH_COMPONENT,internalFormat:e.renderer.isWebgl2?this.stencil?this.gl.DEPTH24_STENCIL8:this.gl.DEPTH_COMPONENT16:this.gl.DEPTH_COMPONENT,type:this.stencil?this.gl.UNSIGNED_INT_24_8:this.gl.UNSIGNED_INT}),this.depthTexture.update(),this.gl.framebufferTexture2D(this.target,this.stencil?this.gl.DEPTH_STENCIL_ATTACHMENT:this.gl.DEPTH_ATTACHMENT,this.gl.TEXTURE_2D,this.depthTexture.texture,0)):(l&&!o&&(this.depthBuffer=this.gl.createRenderbuffer(),this.gl.bindRenderbuffer(this.gl.RENDERBUFFER,this.depthBuffer),this.gl.renderbufferStorage(this.gl.RENDERBUFFER,this.gl.DEPTH_COMPONENT16,r,n),this.gl.framebufferRenderbuffer(this.target,this.gl.DEPTH_ATTACHMENT,this.gl.RENDERBUFFER,this.depthBuffer)),o&&!l&&(this.stencilBuffer=this.gl.createRenderbuffer(),this.gl.bindRenderbuffer(this.gl.RENDERBUFFER,this.stencilBuffer),this.gl.renderbufferStorage(this.gl.RENDERBUFFER,this.gl.STENCIL_INDEX8,r,n),this.gl.framebufferRenderbuffer(this.target,this.gl.STENCIL_ATTACHMENT,this.gl.RENDERBUFFER,this.stencilBuffer)),l&&o&&(this.depthStencilBuffer=this.gl.createRenderbuffer(),this.gl.bindRenderbuffer(this.gl.RENDERBUFFER,this.depthStencilBuffer),this.gl.renderbufferStorage(this.gl.RENDERBUFFER,this.gl.DEPTH_STENCIL,r,n),this.gl.framebufferRenderbuffer(this.target,this.gl.DEPTH_STENCIL_ATTACHMENT,this.gl.RENDERBUFFER,this.depthStencilBuffer))),this.gl.renderer.bindFramebuffer({target:this.target})}setSize(e,r){if(!(this.width===e&&this.height===r)){this.width=e,this.height=r,this.gl.renderer.bindFramebuffer(this);for(let n=0;n<this.textures.length;n++)this.textures[n].width=e,this.textures[n].height=r,this.textures[n].needsUpdate=!0,this.textures[n].update(),this.gl.framebufferTexture2D(this.target,this.gl.COLOR_ATTACHMENT0+n,this.gl.TEXTURE_2D,this.textures[n].texture,0);this.depthTexture?(this.depthTexture.width=e,this.depthTexture.height=r,this.depthTexture.needsUpdate=!0,this.depthTexture.update(),this.gl.framebufferTexture2D(this.target,this.gl.DEPTH_ATTACHMENT,this.gl.TEXTURE_2D,this.depthTexture.texture,0)):(this.depthBuffer&&(this.gl.bindRenderbuffer(this.gl.RENDERBUFFER,this.depthBuffer),this.gl.renderbufferStorage(this.gl.RENDERBUFFER,this.gl.DEPTH_COMPONENT16,e,r)),this.stencilBuffer&&(this.gl.bindRenderbuffer(this.gl.RENDERBUFFER,this.stencilBuffer),this.gl.renderbufferStorage(this.gl.RENDERBUFFER,this.gl.STENCIL_INDEX8,e,r)),this.depthStencilBuffer&&(this.gl.bindRenderbuffer(this.gl.RENDERBUFFER,this.depthStencilBuffer),this.gl.renderbufferStorage(this.gl.RENDERBUFFER,this.gl.DEPTH_STENCIL,e,r))),this.gl.renderer.bindFramebuffer({target:this.target})}}}function Oa(t,e){return t[0]=e[0],t[1]=e[1],t}function Pa(t,e,r){return t[0]=e,t[1]=r,t}function mi(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t}function _i(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t}function Ia(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t}function Ua(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t}function Rr(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t}function La(t,e){var r=e[0]-t[0],n=e[1]-t[1];return Math.sqrt(r*r+n*n)}function Na(t,e){var r=e[0]-t[0],n=e[1]-t[1];return r*r+n*n}function xi(t){var e=t[0],r=t[1];return Math.sqrt(e*e+r*r)}function za(t){var e=t[0],r=t[1];return e*e+r*r}function Ba(t,e){return t[0]=-e[0],t[1]=-e[1],t}function ka(t,e){return t[0]=1/e[0],t[1]=1/e[1],t}function $a(t,e){var r=e[0],n=e[1],i=r*r+n*n;return i>0&&(i=1/Math.sqrt(i)),t[0]=e[0]*i,t[1]=e[1]*i,t}function Ha(t,e){return t[0]*e[0]+t[1]*e[1]}function yi(t,e){return t[0]*e[1]-t[1]*e[0]}function Va(t,e,r,n){var i=e[0],s=e[1];return t[0]=i+n*(r[0]-i),t[1]=s+n*(r[1]-s),t}function ja(t,e,r,n,i){const s=Math.exp(-n*i);let l=e[0],o=e[1];return t[0]=r[0]+(l-r[0])*s,t[1]=r[1]+(o-r[1])*s,t}function Ga(t,e,r){var n=e[0],i=e[1];return t[0]=r[0]*n+r[3]*i+r[6],t[1]=r[1]*n+r[4]*i+r[7],t}function Wa(t,e,r){let n=e[0],i=e[1];return t[0]=r[0]*n+r[4]*i+r[12],t[1]=r[1]*n+r[5]*i+r[13],t}function qa(t,e){return t[0]===e[0]&&t[1]===e[1]}class ir extends Array{constructor(e=0,r=e){return super(e,r),this}get x(){return this[0]}get y(){return this[1]}set x(e){this[0]=e}set y(e){this[1]=e}set(e,r=e){return e.length?this.copy(e):(Pa(this,e,r),this)}copy(e){return Oa(this,e),this}add(e,r){return r?mi(this,e,r):mi(this,this,e),this}sub(e,r){return r?_i(this,e,r):_i(this,this,e),this}multiply(e){return e.length?Ia(this,this,e):Rr(this,this,e),this}divide(e){return e.length?Ua(this,this,e):Rr(this,this,1/e),this}inverse(e=this){return ka(this,e),this}len(){return xi(this)}distance(e){return e?La(this,e):xi(this)}squaredLen(){return this.squaredDistance()}squaredDistance(e){return e?Na(this,e):za(this)}negate(e=this){return Ba(this,e),this}cross(e,r){return r?yi(e,r):yi(this,e)}scale(e){return Rr(this,this,e),this}normalize(){return $a(this,this),this}dot(e){return Ha(this,e)}equals(e){return qa(this,e)}applyMatrix3(e){return Ga(this,this,e),this}applyMatrix4(e){return Wa(this,this,e),this}lerp(e,r){return Va(this,this,e,r),this}smoothLerp(e,r,n){return ja(this,this,e,r,n),this}clone(){return new ir(this[0],this[1])}fromArray(e,r=0){return this[0]=e[r],this[1]=e[r+1],this}toArray(e=[],r=0){return e[r]=this[0],e[r+1]=this[1],e}}class Xa extends Ts{constructor(e,{attributes:r={}}={}){Object.assign(r,{position:{size:2,data:new Float32Array([-1,-1,3,-1,-1,3])},uv:{size:2,data:new Float32Array([0,0,2,0,0,2])}}),super(e,r)}}class Ya{constructor(e,{size:r=128,falloff:n=.3,alpha:i=1,dissipation:s=.98,type:l}={}){const o=this;this.gl=e,this.uniform={value:null},this.mask={read:null,write:null,swap:()=>{let a=o.mask.read;o.mask.read=o.mask.write,o.mask.write=a,o.uniform.value=o.mask.read.texture}},c(),this.aspect=1,this.mouse=new ir,this.velocity=new ir,this.mesh=h();function c(){l||(l=e.HALF_FLOAT||e.renderer.extensions.OES_texture_half_float.HALF_FLOAT_OES);let a=e.renderer.isWebgl2||e.renderer.extensions[`OES_texture_${l===e.FLOAT?"":"half_"}float_linear`]?e.LINEAR:e.NEAREST;const u={width:r,height:r,type:l,format:e.RGBA,internalFormat:e.renderer.isWebgl2?l===e.FLOAT?e.RGBA32F:e.RGBA16F:e.RGBA,minFilter:a,depth:!1};o.mask.read=new Gr(e,u),o.mask.write=new Gr(e,u),o.mask.swap()}function h(){return new Ds(e,{geometry:new Xa(e),program:new Fs(e,{vertex:Ka,fragment:Za,uniforms:{tMap:o.uniform,uFalloff:{value:n*.5},uAlpha:{value:i},uDissipation:{value:s},uAspect:{value:1},uMouse:{value:o.mouse},uVelocity:{value:o.velocity}},depthTest:!1})})}}update(){this.mesh.program.uniforms.uAspect.value=this.aspect,this.gl.renderer.render({scene:this.mesh,target:this.mask.write,clear:!1}),this.mask.swap()}}const Ka=`
    attribute vec2 uv;
    attribute vec2 position;

    varying vec2 vUv;

    void main() {
        vUv = uv;
        gl_Position = vec4(position, 0, 1);
    }
`,Za=`
    precision highp float;

    uniform sampler2D tMap;

    uniform float uFalloff;
    uniform float uAlpha;
    uniform float uDissipation;
    
    uniform float uAspect;
    uniform vec2 uMouse;
    uniform vec2 uVelocity;

    varying vec2 vUv;

    void main() {
        vec4 color = texture2D(tMap, vUv) * uDissipation;

        vec2 cursor = vUv - uMouse;
        cursor.x *= uAspect;

        vec3 stamp = vec3(uVelocity * vec2(1, -1), 1.0 - pow(1.0 - min(1.0, length(uVelocity)), 3.0));
        float falloff = smoothstep(uFalloff, 0.0, length(cursor)) * uAlpha;

        color.rgb = mix(color.rgb, stamp, vec3(falloff));

        gl_FragColor = color;
    }
`,ge=new Lc,ye=ge.gl,Qa=new Ts(ye,{position:{size:2,data:new Float32Array([-1,-1,3,-1,-1,3])},uv:{size:2,data:new Float32Array([0,0,2,0,0,2])}}),qt=new Ds(ye,{geometry:Qa});function Ue(t,e,r){const n=new Fs(ye,{vertex:t,fragment:e,uniforms:r});return function(i,s){qt.program=n;for(const l in s)qt.program.uniforms[l].value=s[l];i?ge.render({scene:qt,target:i}):ge.render({scene:qt})}}var Le=`attribute vec2 uv;\r
attribute vec2 position;

varying vec2 vUv;

void main() {\r
    vUv = uv;\r
    gl_Position = vec4(position, 0, 1);\r
}`,Ja=`precision highp float;

varying vec2 vUv;

void main() {\r
    gl_FragColor.rg = vUv.xy;\r
    gl_FragColor.b = 0.5;\r
    gl_FragColor.a = 1.0;\r
}`;Ue(Le,Ja);var eh=`precision highp float;

uniform sampler2D textureMap;\r
uniform bool showAlpha;

varying vec2 vUv;

#define PI 3.14159265358979

vec2 packFloat(float v) {\r
    return vec2(v);

    float s = v * 256.0;\r
    float v1 = floor(s);\r
    float v2 = s - v1;\r
    return vec2((v1 + 0.5) / 256.0, v2);\r
}

float unpackFloat(vec2 v) {\r
    return v.x;\r
    \r
    return v.x + v.y / 256.0;\r
}

vec4 packField(vec2 v) {\r
    
    
    return v.rgrg;\r
}

vec2 unpackField(vec4 v) {\r
    
    
    return v.rg;\r
}

void main() {\r
    gl_FragColor = texture2D(textureMap, vUv);\r
    if(showAlpha) {\r
        gl_FragColor.rgb = gl_FragColor.aaa;\r
    }\r
}`;const th=Ue(Le,eh,{textureMap:{value:0},showAlpha:{value:!1}});function ze(t,e,r=!1){th(t,{textureMap:e,showAlpha:r})}var rh=`precision highp float;

varying vec2 vUv;

#define PI 3.14159265358979

vec2 packFloat(float v) {\r
    return vec2(v);

    float s = v * 256.0;\r
    float v1 = floor(s);\r
    float v2 = s - v1;\r
    return vec2((v1 + 0.5) / 256.0, v2);\r
}

float unpackFloat(vec2 v) {\r
    return v.x;\r
    \r
    return v.x + v.y / 256.0;\r
}

vec4 packField(vec2 v) {\r
    
    
    return v.rgrg;\r
}

vec2 unpackField(vec4 v) {\r
    
    
    return v.rg;\r
}

void main() {\r
    
    
    
    

    gl_FragColor.rgb = vec3(0.0);\r
    
    
    gl_FragColor.a = 0.0;\r
}`;const nh=Ue(Le,rh);function ih(t){nh(t)}var sh=`precision highp float;

varying vec2 vUv;

uniform sampler2D inputMap;\r
uniform sampler2D velocityMap;

uniform vec2 uSize;\r
#define PI 3.14159265358979

vec2 packFloat(float v) {\r
    return vec2(v);

    float s = v * 256.0;\r
    float v1 = floor(s);\r
    float v2 = s - v1;\r
    return vec2((v1 + 0.5) / 256.0, v2);\r
}

float unpackFloat(vec2 v) {\r
    return v.x;\r
    \r
    return v.x + v.y / 256.0;\r
}

vec4 packField(vec2 v) {\r
    
    
    return v.rgrg;\r
}

vec2 unpackField(vec4 v) {\r
    
    
    return v.rg;\r
}

void main() {\r
    vec2 delta = 1.0 / uSize;

    vec2 velocity = unpackField(texture2D(velocityMap, vUv));\r
    
    
    
    

    
    vec2 displacement = -velocity;\r
    float factor = 0.9;\r
    vec4 displaced = texture2D(inputMap, vUv + displacement * delta * 0.1);\r
    gl_FragColor = texture2D(inputMap, vUv) * (1.0 - factor) + displaced * factor;

}`;const lh=Ue(Le,sh,{inputMap:{value:0},velocityMap:{value:0},uSize:{value:[0,0]}});function bi(t,e,r){lh(t,{inputMap:e,velocityMap:r,uSize:[t.width,t.height]})}var oh=`precision highp float;

varying vec2 vUv;

uniform sampler2D velocityMap;

uniform vec2 uSize;

#define PI 3.14159265358979

vec2 packFloat(float v) {\r
    return vec2(v);

    float s = v * 256.0;\r
    float v1 = floor(s);\r
    float v2 = s - v1;\r
    return vec2((v1 + 0.5) / 256.0, v2);\r
}

float unpackFloat(vec2 v) {\r
    return v.x;\r
    \r
    return v.x + v.y / 256.0;\r
}

vec4 packField(vec2 v) {\r
    
    
    return v.rgrg;\r
}

vec2 unpackField(vec4 v) {\r
    
    
    return v.rg;\r
}

void main() {\r
    vec2 delta = 4.0 / uSize;

    vec2 center = unpackField(texture2D(velocityMap, vUv));\r
    vec2 left = unpackField(texture2D(velocityMap, vUv + delta * vec2(-1, 0)));\r
    vec2 right = unpackField(texture2D(velocityMap, vUv + delta * vec2(1, 0)));\r
    vec2 bottom = unpackField(texture2D(velocityMap, vUv + delta * vec2(0, -1)));\r
    vec2 top = unpackField(texture2D(velocityMap, vUv + delta * vec2(0, 1)));

    float divergent = (right.x - left.x) + (top.y - bottom.y);

    gl_FragColor.rg = packFloat(divergent / 4.0 * 0.5 + 0.5);\r
}`;const ch=Ue(Le,oh,{velocityMap:{value:0},uSize:{value:[0,0]}});function ah(t,e){ch(t,{velocityMap:e,uSize:[t.width,t.height]})}var hh=`precision highp float;

varying vec2 vUv;

uniform sampler2D pressureMap;\r
uniform sampler2D velocityMap;

uniform vec2 uSize;

#define PI 3.14159265358979

vec2 packFloat(float v) {\r
    return vec2(v);

    float s = v * 256.0;\r
    float v1 = floor(s);\r
    float v2 = s - v1;\r
    return vec2((v1 + 0.5) / 256.0, v2);\r
}

float unpackFloat(vec2 v) {\r
    return v.x;\r
    \r
    return v.x + v.y / 256.0;\r
}

vec4 packField(vec2 v) {\r
    
    
    return v.rgrg;\r
}

vec2 unpackField(vec4 v) {\r
    
    
    return v.rg;\r
}

void main() {\r
    vec2 delta = 4.0 / uSize;

    float center = unpackFloat(texture2D(pressureMap, vUv).rg);\r
    float left = unpackFloat(texture2D(pressureMap, vUv + delta * vec2(-1, 0)).rg);\r
    float right = unpackFloat(texture2D(pressureMap, vUv + delta * vec2(1, 0)).rg);\r
    float bottom = unpackFloat(texture2D(pressureMap, vUv + delta * vec2(0, -1)).rg);\r
    float top = unpackFloat(texture2D(pressureMap, vUv + delta * vec2(0, 1)).rg);

    vec2 gradient = vec2(right - left, top - bottom);

    vec2 velocity = unpackField(texture2D(velocityMap, vUv)) + gradient * 2.0;

    gl_FragColor = packField(velocity);\r
}`;const fh=Ue(Le,hh,{pressureMap:{value:0},velocityMap:{value:0},uSize:{value:[0,0]}});function uh(t,e,r){fh(t,{pressureMap:e,velocityMap:r,uSize:[t.width,t.height]})}var dh=`precision highp float;

varying vec2 vUv;

uniform sampler2D pressureMap;\r
uniform sampler2D velocityMap;\r
uniform sampler2D flowMap;

uniform vec2 uSize;

#define PI 3.14159265358979

vec2 packFloat(float v) {\r
    return vec2(v);

    float s = v * 256.0;\r
    float v1 = floor(s);\r
    float v2 = s - v1;\r
    return vec2((v1 + 0.5) / 256.0, v2);\r
}

float unpackFloat(vec2 v) {\r
    return v.x;\r
    \r
    return v.x + v.y / 256.0;\r
}

vec4 packField(vec2 v) {\r
    
    
    return v.rgrg;\r
}

vec2 unpackField(vec4 v) {\r
    
    
    return v.rg;\r
}

void main() {\r
    vec2 delta = 2.0 / uSize;

    vec2 velocity = unpackField(texture2D(velocityMap, vUv));\r
    vec2 velocity_left = unpackField(texture2D(velocityMap, vUv + delta * vec2(-1, 0)));\r
    vec2 velocity_right = unpackField(texture2D(velocityMap, vUv + delta * vec2(1, 0)));\r
    vec2 velocity_bottom = unpackField(texture2D(velocityMap, vUv + delta * vec2(0, -1)));\r
    vec2 velocity_top = unpackField(texture2D(velocityMap, vUv + delta * vec2(0, 1)));

    vec2 flow = unpackField(texture2D(flowMap, vUv));

    float center = texture2D(pressureMap, vUv).a;\r
    float right = texture2D(pressureMap, vUv + delta * vec2(1, 0)).a;\r
    float left = texture2D(pressureMap, vUv + delta * vec2(-1, 0)).a;\r
    float top = texture2D(pressureMap, vUv + delta * vec2(0, 1)).a;\r
    float bottom = texture2D(pressureMap, vUv + delta * vec2(0, -1)).a;\r
    vec2 gradient = vec2(right - left, top - bottom);

    vec2 diffusion = (velocity_left + velocity_right + velocity_bottom + velocity_top) / 4.0 - velocity;

    vec2 acceleration = -gradient * 0.01;

    
    
    

    
    velocity = velocity * 0.9995 + acceleration / (center + 0.001) + diffusion + flow * 0.1;

    

    float magnitude = length(velocity);\r
    velocity = velocity / max(1e-5, magnitude) * min(10.0, magnitude);

    gl_FragColor = packField(velocity);\r
}`;const ph=Ue(Le,dh,{pressureMap:{value:0},velocityMap:{value:0},flowMap:{value:0},uSize:{value:[0,0]}});function gh(t,e,r,n){ph(t,{pressureMap:e,velocityMap:r,flowMap:n,uSize:[t.width,t.height]})}var vh=`precision highp float;

varying vec2 vUv;

uniform sampler2D pressureMap;\r
uniform sampler2D maskTexture;

uniform float feed0; 
uniform float kill0; 

uniform vec2 uSize;\r
#define PI 3.14159265358979

vec2 packFloat(float v) {\r
    return vec2(v);

    float s = v * 256.0;\r
    float v1 = floor(s);\r
    float v2 = s - v1;\r
    return vec2((v1 + 0.5) / 256.0, v2);\r
}

float unpackFloat(vec2 v) {\r
    return v.x;\r
    \r
    return v.x + v.y / 256.0;\r
}

vec4 packField(vec2 v) {\r
    
    
    return v.rgrg;\r
}

vec2 unpackField(vec4 v) {\r
    
    
    return v.rg;\r
}\r

void main() {\r
    vec2 delta = 1.0 / uSize;

    vec4 center = texture2D(pressureMap, vUv);

    vec4 maskInput = texture2D(maskTexture, vUv);

    vec4 left = texture2D(pressureMap, vUv + delta * vec2(-1, 0));\r
    vec4 right = texture2D(pressureMap, vUv + delta * vec2(1, 0));\r
    vec4 bottom = texture2D(pressureMap, vUv + delta * vec2(0, -1));\r
    vec4 top = texture2D(pressureMap, vUv + delta * vec2(0, 1));

    vec4 corner1 = texture2D(pressureMap, vUv + delta * vec2(-1, 1));\r
    vec4 corner2 = texture2D(pressureMap, vUv + delta * vec2(1, 1));\r
    vec4 corner3 = texture2D(pressureMap, vUv + delta * vec2(-1, -1));\r
    vec4 corner4 = texture2D(pressureMap, vUv + delta * vec2(1, -1));

    vec4 laplacian = (left + right + bottom + top) * 0.2 + (corner1 + corner2 + corner3 + corner4) * 0.05 - center;

    float feed = feed0 + (vUv.x - 0.5) * 0.02;\r
    float kill_compensated = kill0 - 7.0 * ((feed - 0.065) * (feed - 0.065) - (feed0 - 0.065) * (feed0 - 0.065));

    float r = length((vUv - 0.5) * uSize) / min(uSize.x, uSize.y);\r
    float kill = kill_compensated + abs(vUv.y - 0.5) * 0.04;

    float mask = maskInput.r * 0.1;

    vec3 diffusion = vec3(0.4, 0.1, 0.1) * 8.0;\r
    vec3 reaction = vec3(-1.0, 1.0, 1.0);\r
    vec3 balance = vec3(1.0, mask, mask);\r
    vec3 damping = vec3(feed, feed + kill, feed + kill);\r
    vec3 density = vec3(1.0, 0.0, 0.0);

    vec3 change = diffusion * laplacian.xyz + reaction * center.x * center.y * center.z + (balance - center.xyz) * damping;

    vec3 result = center.xyz + change * 0.3;\r
    gl_FragColor.xyz = result.xyz;\r
    gl_FragColor.a = 1.0 - dot(density, result);

}`;function Me(t,e,r=n=>n){let i=new URLSearchParams(window.location.search).get(t);try{if(i!==null)return r(i)}catch{}return e}function $t(t){t=t.replace(/^#/,""),t.length===3&&(t=t.split("").map(s=>s+s).join(""));const e=parseInt(t,16),r=(e>>16&255)/255,n=(e>>8&255)/255,i=(e&255)/255;return[r,n,i]}const Os=Me("feed",.054,Number),mh=Me("kill",.0616,Number);console.log(Os);const _h=Ue(Le,vh,{pressureMap:{value:0},maskTexture:{value:0},uSize:{value:[0,0]},feed0:{value:Os},kill0:{value:mh}});function xh(t,e,r){_h(t,{pressureMap:e,maskTexture:r,uSize:[t.width,t.height]})}const wt=document.createElement("canvas"),yh=wt.getContext("2d");let bt;function bh(t,e){return wt.width=t.width,wt.height=t.height,e(wt,yh),bt||(bt=new jr(t.gl),bt.image=wt),bt.needsUpdate=!0,bt}var Eh=`precision highp float;

varying vec2 vUv;

uniform sampler2D pressureMap;\r
uniform sampler2D backgroundMap;\r
uniform vec3 glassColor;\r
uniform float shadowFactor;\r
uniform float brightFactor;

uniform vec2 parallax;

uniform vec2 uSize;\r
#define PI 3.14159265358979

vec2 packFloat(float v) {\r
    return vec2(v);

    float s = v * 256.0;\r
    float v1 = floor(s);\r
    float v2 = s - v1;\r
    return vec2((v1 + 0.5) / 256.0, v2);\r
}

float unpackFloat(vec2 v) {\r
    return v.x;\r
    \r
    return v.x + v.y / 256.0;\r
}

vec4 packField(vec2 v) {\r
    
    
    return v.rgrg;\r
}

vec2 unpackField(vec4 v) {\r
    
    
    return v.rg;\r
}

vec3 my_reflection(vec3 normal, vec3 incoming) {\r
    float cos_value = dot(incoming, normal);\r
    vec3 cos_vec = cos_value * normal;\r
    vec3 reflected = incoming - cos_vec * 2.0;\r
    return reflected / length(reflected);\r
}

vec3 my_refraction(vec3 normal, vec3 incoming, float n2) {\r
    float cos_value = dot(incoming, normal);\r
    vec3 cos_vec = cos_value * normal;\r
    vec3 sin_vec = incoming - cos_vec;\r
    float sin_value = length(sin_vec);\r
    float cos_value22 = n2 * n2 - sin_value * sin_value;\r
    if(cos_value22 < 0.0)\r
        return my_reflection(normal, incoming);\r
    float cos_value2 = sqrt(cos_value22);\r
    vec3 refracted = cos_value2 * normal + sin_vec;\r
    return refracted / length(refracted);\r
}

float thickness(vec4 p) {\r
    float t = smoothstep(0.45, 0.95, p.a);\r
    return sqrt(t);\r
}

void main() {\r
    vec2 delta = 1.0 / uSize;

    vec4 final_color = vec4(0.0);

    for(int si = 0; si < 2; si++) {\r
        for(int sj = 0; sj < 2; sj++) {

            vec2 uv = vUv + delta * vec2(si, sj) * 0.5;

            vec4 center = texture2D(pressureMap, uv);\r
            vec4 left = texture2D(pressureMap, uv + delta * vec2(-1, 0));\r
            vec4 right = texture2D(pressureMap, uv + delta * vec2(1, 0));\r
            vec4 bottom = texture2D(pressureMap, uv + delta * vec2(0, -1));\r
            vec4 top = texture2D(pressureMap, uv + delta * vec2(0, 1));

            vec2 gradient = vec2(thickness(right) - thickness(left), thickness(top) - thickness(bottom)) * 0.7;

            vec3 normal = vec3(-gradient.x, -gradient.y, 1.0);\r
            normal = normal / length(normal);

            vec3 incoming = vec3(parallax, 1);\r
            incoming = incoming / length(incoming);

            float n2 = 1.33;

            vec3 refracted = my_refraction(normal, incoming, n2);\r
            refracted = my_refraction(normal * vec3(-1, -1, 1.0), refracted, 1.0 / n2);\r
            vec3 reflected = my_reflection(normal, incoming);

            vec2 displacement = refracted.xy / refracted.z - parallax;

            float r_r = texture2D(backgroundMap, uv + displacement * 1.0).r;\r
            float r_g = texture2D(backgroundMap, uv + displacement * 1.05).g;\r
            float r_b = texture2D(backgroundMap, uv + displacement * 1.1).b;

            vec4 background_T = vec4(r_r, r_g, r_b, 1.0);

            vec3 incoming_clamped = incoming;\r
            incoming_clamped.z = clamp(incoming_clamped.z, 0.8, 0.99);\r
            incoming_clamped.xy /= max(length(incoming_clamped.xy), 0.0001);\r
            incoming_clamped.xy *= sqrt(1.0 - incoming_clamped.z);\r
            vec3 reflected_clamped = my_reflection(normal, incoming_clamped);

            float light = abs(dot(reflected_clamped, vec3(-0.1, 0.6, 0.01)));\r
            light = step(0.1, light) * light * 8.0;\r
            
            

            vec4 background_R = vec4(vec3(light), 0) * vec4(glassColor, 1.0);

            
            float R = pow(1.0 - normal.z, 0.5) * smoothstep(0.0, 0.01, thickness(center));

            float t = thickness(center);

            vec4 color = background_R * R + background_T * (1.0 - R) * (1.0 - shadowFactor * t) + (t * brightFactor);\r
            color.rgb = color.rgb * mix(vec3(1), glassColor, t);\r
            final_color = final_color + color * 0.25;

            
            
        }\r
    }

    gl_FragColor = final_color;\r
    
    
}`;const wh=Me("color",[1,1,1],$t),Mh=Me("shadow",.05,Number),Th=Me("bright",.05,Number),Fh=Ue(Le,Eh,{pressureMap:{value:0},backgroundMap:{value:0},uSize:{value:[0,0]},glassColor:{value:wh},shadowFactor:{value:Mh},brightFactor:{value:Th},parallax:{value:[0,0]}});function Ah(t,e,r,n){Fh(t,{pressureMap:e,backgroundMap:r,parallax:n,uSize:[e.width,e.height]})}var Sh=`precision highp float;

varying vec2 vUv;

uniform vec2 uSize;\r
uniform vec3 clockHands;

uniform vec3 bgcolor;\r
uniform vec3 circlecolor1;\r
uniform vec3 circlecolor2;\r
uniform vec3 circlecolor3;

uniform vec2 parallax;

#define PI 3.14159265358979

vec2 packFloat(float v) {\r
    return vec2(v);

    float s = v * 256.0;\r
    float v1 = floor(s);\r
    float v2 = s - v1;\r
    return vec2((v1 + 0.5) / 256.0, v2);\r
}

float unpackFloat(vec2 v) {\r
    return v.x;\r
    \r
    return v.x + v.y / 256.0;\r
}

vec4 packField(vec2 v) {\r
    
    
    return v.rgrg;\r
}

vec2 unpackField(vec4 v) {\r
    
    
    return v.rg;\r
}

vec3 drawCircle(vec2 coord, float t) {\r
    float radius = max(uSize.x, uSize.y) * 0.5;\r
    vec2 origin = vec2(sin(t * PI * 2.0), cos(t * PI * 2.0)) * radius;\r
    coord -= origin;

    float r = length(coord) / radius;\r
    float f = 1.0 / (abs(r - 1.0) * 100.0 + 1.0);

    vec2 displacement = -coord / (sqrt(max(0.0, 1.0 - r * r)) + 0.01) * f * step(r, 1.0);

    f = 1.0 / (abs(r - 1.0) * 200.0 + 1.0);\r
    f = f + step(r, 1.0) * 0.05 * (r + 1.0);

    return vec3(displacement, f);\r
}

void main() {\r
    vec3 final_color = vec3(0);

    for(int i = 0; i < 1; i++) {\r
        for(int j = 0; j < 1; j++) {\r
            vec2 coord = (vUv - 0.5) * uSize + vec2(i, j) / 2.0 + parallax * 2.0;\r
            float radius = length(coord) / min(uSize.x, uSize.y);\r
            float clock = atan(coord.y, coord.x);\r
            float tick = fract(0.25 - clock / PI / 2.0);\r
            

            vec3 circle3 = drawCircle(coord, clockHands.z / 60.0);\r
            coord += circle3.xy * 0.1 + parallax * 10.0;\r
            vec3 circle2 = drawCircle(coord, clockHands.y / 60.0);\r
            coord += circle2.xy * 0.1 + parallax * 20.0;\r
            vec3 circle1 = drawCircle(coord, clockHands.x / 12.0);

            vec3 color = bgcolor;\r
            color = mix(color, circlecolor1, circle1.z);\r
            color = mix(color, circlecolor2, circle2.z);\r
            color = mix(color, circlecolor3, circle3.z);

            final_color = final_color + color;

        }\r
    }

    
    
    
    

    gl_FragColor.rgb = final_color;\r
    gl_FragColor.a = 1.0;\r
}`;const Rh=Me("bgcolor",[0,0,0],$t),Ch=Me("color1",[.9686274509803922,.49411764705882355,.17647058823529413],$t),Dh=Me("color2",[.19607843137254902,.21568627450980393,.2901960784313726],$t),Oh=Me("color3",[.9607843137254902,.9607843137254902,.9607843137254902],$t),Ph=Ue(Le,Sh,{uSize:{value:[0,0]},parallax:{value:[0,0]},clockHands:{value:[0,0,0]},bgcolor:{value:Rh},circlecolor1:{value:Ch},circlecolor2:{value:Dh},circlecolor3:{value:Oh}});function Ih(t,e){const r=new Date;Ph(t,{parallax:e,uSize:[t.width,t.height],clockHands:[r.getHours()+r.getMinutes()/60+r.getSeconds()/60/60,r.getMinutes()+r.getSeconds()/60+r.getMilliseconds()/1e3/60,r.getSeconds()+r.getMilliseconds()/1e3]})}const We=xl({x:0,y:0});let Wr=1;const Ei=new xn,qr=new xn,oe=new yn,wi=new yn;let Xr=!1;function Mi(t){t.absolute;const e=t.alpha,r=t.beta,n=t.gamma;n&&(Xr||(Wr=1,Xr=!0));const i=Math.PI/180,s=e?e*i:0,l=r?r*i:0,o=n?n*i:0;qr.fromEuler(new Cs(s,l,o,"XYZ"))}let at={x:0,y:0};function Ti(t){at.x+=t.movementX*.001,at.y-=t.movementY*.001}let Ps=!0;function Is(){Xr&&(Ei.slerp(qr,Wr),Wr=.01,oe.fromQuaternion(Ei),wi.fromQuaternion(qr),oe.inverse().multiply(wi),console.log(oe[0],oe[1],oe[2]),console.log(oe[3],oe[4],oe[5]),console.log(oe[6],oe[7],oe[8]),We.value.x=oe[1]/Math.max(oe[0],.1),We.value.y=oe[2]/Math.max(oe[0],.1),console.log(We.value)),Ps&&requestAnimationFrame(Is),We.value.x+=at.x*.1,We.value.y+=at.y*.1,We.value.x*=.99,We.value.y*=.99,at.x*=.8,at.y*=.8}function Uh(){return dn(()=>{window.addEventListener("deviceorientation",Mi),window.addEventListener("mousemove",Ti),Is()}),pn(()=>{Ps=!1,window.removeEventListener("deviceorientation",Mi),window.removeEventListener("mousemove",Ti)}),{parallax:We}}const Lh=(t,e)=>{const r=t.__vccOpts||t;for(const[n,i]of e)r[n]=i;return r},Nh={id:"ogl-canvas-root"},zh={__name:"App",setup(t){const{parallax:e}=Uh();let r,n;const i=[],s=[],l=Me("debug",null,String),o=Me("iteration",10,Number);function c(w=!1){const y=new Gr(ye,{width:512,height:512,type:ye.HALF_FLOAT,format:ye.RGBA,internalFormat:ye.RGBA16F,depth:!1,wrapS:ye.CLAMP_TO_EDGE,wrapT:ye.CLAMP_TO_EDGE});return w?s.push(y):i.push(y),y}let h=!0,a=[512,512];function u(){const w=r.getBoundingClientRect();ge.setSize(w.width,w.height),h=!0}function p(w,y){y.fillStyle="red",y.clearRect(0,0,w.width,w.height),y.textAlign="center",y.textBaseline="middle";const _=new Date;if(w.width>w.height*1.5){const C=w.width/8;y.font=Math.round(C)+"px Roboto Mono";const P=[_.getHours().toString().padStart(2,"0"),_.getMinutes().toString().padStart(2,"0"),_.getSeconds().toString().padStart(2,"0")].join(_.getMilliseconds()<500?":":" ");y.fillText(P,w.width/2,w.height/2)}else{const C=w.height/4;y.font=Math.round(C)+"px Roboto Mono",y.fillText(_.getHours().toString().padStart(2,"0"),w.width/2,w.height/2-C),y.fillText(_.getMinutes().toString().padStart(2,"0"),w.width/2,w.height/2),y.fillText(_.getSeconds().toString().padStart(2,"0"),w.width/2,w.height/2+C)}}function g(w){const y=r.getBoundingClientRect();n.mouse.set((w.x-0)/y.width,(y.bottom-w.y)/y.height),n.velocity.set(w.movementX/y.width*a[0],w.movementY/y.width*a[1])}function v(w){if(!w.touches||w.touches.length===0)return;const y=w.touches[0],_=r.getBoundingClientRect();w.preventDefault(),n.mouse.set((y.clientX-0)/_.width,(_.bottom-y.clientY)/_.height),v.prev||(v.prev={x:y.clientX,y:y.clientY}),n.velocity.set((y.clientX-v.prev.x)/_.width*a[0],(y.clientY-v.prev.y)/_.width*a[1]),v.prev.x=y.clientX,v.prev.y=y.clientY}let x=!0;async function T(){r=document.getElementById("ogl-canvas-root"),r.appendChild(ye.canvas),ge.setSize(window.innerWidth,window.innerHeight);let w=c(),y=c(),_=c(!0),C=c(),P=c(!0);n=new Ya(ye,{size:512,falloff:.12,alpha:.8,dissipation:.7}),window.addEventListener("resize",u),u(),window.addEventListener("touchmove",v,{passive:!1}),window.addEventListener("mousemove",g),ih(w);function k(q){if(x&&requestAnimationFrame(k),n.update(),n.velocity.set(0,0),h){h=!1,ze(_,w.texture,!1),ze(P,C.texture,!1);const H=Math.max(.4,Math.min(.8,1024/Math.min(ge.width,ge.height)*window.devicePixelRatio)),X=Math.round(ge.width*H/4)*4,W=Math.round(ge.height*H/4)*4;a=[X,W];for(let Y of i)Y.setSize(X,W);ze(w,_.texture,!1),ze(C,P.texture,!1);for(let Y of s)Y.setSize(X,W)}gh(P,w.texture,C.texture,n.mask.read.texture);const ee=bh(ge,p);for(let H=0;H<o;H++)ah(_,P.texture),uh(C,_.texture,P.texture),bi(P,C.texture,C.texture),bi(_,w.texture,C.texture),xh(w,_.texture,ee);ze(C,P.texture,!1),Ih(y,[e.value.x,e.value.y]),Ah(ge,w.texture,y.texture,[e.value.x,e.value.y]),l=="velocity"?ze(ge,C.texture,!1):l=="pressure"?ze(ge,w.texture,!0):l=="background"?ze(ge,y.texture,!1):l=="flowmap"&&ze(null,n.mask.read.texture,!1)}requestAnimationFrame(k)}function b(){window.removeEventListener("resize",u),window.removeEventListener("touchmove",v),window.removeEventListener("mousemove",g),r.removeChild(ye.canvas),x=!1}return dn(()=>{T()}),es(()=>{b()}),(w,y)=>(Mo(),Ao("div",Nh))}},Bh=Lh(zh,[["__scopeId","data-v-185a72fd"]]);fc(Bh).mount("#app");
